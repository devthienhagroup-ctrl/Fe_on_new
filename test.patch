diff --git a/src/components/dich-vu/Phi-dich-vu.vue b/src/components/dich-vu/Phi-dich-vu.vue
index c495c3dea49a6b63cf1aa98f0dcc1c9d4d7b7fb1..39faad149b062b6a73f7406b005e82ac90879e8a 100644
--- a/src/components/dich-vu/Phi-dich-vu.vue
+++ b/src/components/dich-vu/Phi-dich-vu.vue
@@ -656,105 +656,97 @@
     <!-- MODAL: ADJUST -->
     <div class="modal" :class="{ show: showModal === 'modalAdjust' }" @click.self="closeModal('modalAdjust')">
       <div class="modal-card">
         <div class="modal-h">
           <div class="modal-title">
             <i class="fa-solid fa-sliders"></i>
             Điều chỉnh hợp đồng
           </div>
           <button class="x" @click="closeModal('modalAdjust')">
             <i class="fa-solid fa-xmark"></i>
           </button>
         </div>

         <div class="modal-b">
           <div class="grid grid-cols-1 lg:grid-cols-2 gap-3">
             <div class="card">
               <div class="card-h"><i class="fa-solid fa-pen-to-square"></i> Thông tin điều chỉnh</div>

               <div class="field">
                 <label><i class="fa-solid fa-coins"></i> Số tiền điều chỉnh</label>
                 <input
                   :value="formatNumberInput(adjustment.amount)"
                   type="text"
                   inputmode="numeric"
                   placeholder="VD: -500.000 hoặc 300.000"
-                  @input="adjustment.amount = parseNumberInput($event.target.value, true)"
+                  @input="handleAdjustmentAmountInput"
                 >
                 <div class="muted tiny">Âm = giảm thêm • Dương = phụ thu / phạt</div>
               </div>

               <div class="field">
                 <label><i class="fa-solid fa-layer-group"></i> Loại điều chỉnh</label>
                 <select v-model="adjustment.type">
                   <option value="GIAM_GIA">Giảm thêm</option>
                   <option value="PHU_THU">Phụ thu</option>
                   <option value="PHAT">Phạt</option>
                 </select>
               </div>

               <div class="field">
                 <label><i class="fa-solid fa-clipboard"></i> Lý do</label>
                 <textarea v-model="adjustment.reason" placeholder="VD: Phạt trễ tiến độ..."></textarea>
               </div>
             </div>

             <div class="card">
-              <div class="card-h"><i class="fa-solid fa-circle-info"></i> Tác động sau điều chỉnh</div>
+              <div class="card-h"><i class="fa-solid fa-circle-info"></i> Tóm tắt hợp đồng</div>
               <div class="p-3">
                 <div class="text-sm font-extrabold">{{ currentContract?.maHopDong }} • {{ currentContract?.tenKhachHang }}</div>
                 <div class="muted tiny mt-1">{{ currentContract?.tenDichVu }} • Ngày tạo {{ formatCreatedAt(currentContract?.ngayTao) }} • Trạng thái {{ getStatusText(currentContract?.trangThaiHopDong) }}</div>

                 <div class="grid grid-cols-2 gap-2 mt-3">
                   <div class="kpi">
-                    <div class="k"><span class="dot"></span>Giá trị tài sản</div>
-                    <div class="v price p4">{{ formatMoney(currentContract?.giaTriTaiSan || 0) }}</div>
-                  </div>
-                  <div class="kpi">
-                    <div class="k"><span class="dot"></span>Giá gốc</div>
-                    <div class="v price p2">{{ formatMoney(currentContract?.giaDichVuGoc || 0) }}</div>
-                  </div>
-                  <div class="kpi">
-                    <div class="k"><span class="dot"></span>Giá chốt</div>
+                    <div class="k"><span class="dot"></span>Giá sau giảm</div>
                     <div class="v price p4">{{ formatMoney(currentContract?.giaSauGiam || 0) }}</div>
                   </div>
                   <div class="kpi">
                     <div class="k"><span class="dot"></span>Tổng điều chỉnh</div>
-                    <div class="v price p2">{{ formatMoney(calcTongDieuChinh(currentContract)) }}</div>
+                    <div class="v price p2">{{ formatMoney(getTongDieuChinh(currentContract)) }}</div>
                   </div>
                   <div class="kpi">
-                    <div class="k"><span class="dot"></span>Giá điều chỉnh</div>
-                    <div class="v price p2">{{ formatMoney(calcGiaDieuChinh(currentContract)) }}</div>
+                    <div class="k"><span class="dot"></span>Doanh thu</div>
+                    <div class="v price p1">{{ formatMoney(getDoanhThuRow(currentContract)) }}</div>
                   </div>
                   <div class="kpi">
-                    <div class="k"><span class="dot"></span>Doanh thu (min)</div>
-                    <div class="v price p1">{{ formatMoney(calcDoanhThu(currentContract)) }}</div>
+                    <div class="k"><span class="dot"></span>Doanh số</div>
+                    <div class="v price p3">{{ formatMoney(getDoanhSoRow(currentContract)) }}</div>
                   </div>
                 </div>

                 <div class="note mt-3">
-                  <b>Gợi ý:</b> Nếu điều chỉnh âm làm "Giá điều chỉnh" thấp hơn "Thực thu", bạn đang thu dư → có thể cần hoàn.
+                  <b>Lưu ý:</b> Tóm tắt lấy trực tiếp từ dữ liệu hợp đồng hiện tại.
                 </div>
               </div>
             </div>
           </div>
         </div>

         <div class="modal-f">
           <button class="btn ghost" @click="closeModal('modalAdjust')">
             <i class="fa-solid fa-ban"></i> Hủy
           </button>
           <button class="btn primary" @click="saveAdjustment">
             <i class="fa-solid fa-check"></i> Xác nhận điều chỉnh
           </button>
         </div>
       </div>
     </div>

     <!-- MODAL: DETAIL -->
     <div class="modal" :class="{ show: showModal === 'modalDetail' }" @click.self="closeModal('modalDetail')">
       <div class="modal-card detail">
         <div class="modal-h">
           <div class="modal-title">
             <i class="fa-solid fa-file-lines"></i>
             <span>Chi tiết hợp đồng {{ currentContract?.maHopDong }}</span>
           </div>
@@ -1293,50 +1285,54 @@ const getGiaGiam = (contract) => {
   return Number(contract?.giaGiam ?? contract?.phiGiam ?? 0)
 }

 const getGiaTaiSanKy = (contract) => {
   return Number(contract?.giaTaiSanKyGoc ?? contract?.giaTriTaiSan ?? contract?.giaTriKyBan ?? 0)
 }

 const getTongHoan = (contract) => {
   if (contract?.giaHoanTien !== undefined && contract?.giaHoanTien !== null) {
     return Number(contract.giaHoanTien || 0)
   }
   return calcTongHoan(contract)
 }

 const getTongDieuChinh = (contract) => {
   if (contract?.tongDC !== undefined && contract?.tongDC !== null) {
     return Number(contract.tongDC || 0)
   }
   return 0
 }

 const getDoanhThuRow = (contract) => {
   return Number(contract?.doanhThu ?? 0)
 }

+const getDoanhSoRow = (contract) => {
+  return Number(contract?.doanhSo ?? 0)
+}
+
 const getDoanhThu = (contract) => {
   if (contract?.doanhThu !== undefined && contract?.doanhThu !== null) {
     return Number(contract.doanhThu || 0)
   }
   return calcThucThu(contract)
 }

 const getDoanhSo = (contract) => {
   if (contract?.doanhSo !== undefined && contract?.doanhSo !== null) {
     return Number(contract.doanhSo || 0)
   }
   return calcDoanhThu(contract)
 }

 const randInt = (min, max) => {
   return Math.floor(Math.random() * (max - min + 1)) + min
 }

 const randPriceForService = (serviceName) => {
   const svc = serviceOptions.value.find(s => s.name === serviceName) || serviceOptions.value[0]
   if (!svc) return 0
   const min = Number(svc.minPrice ?? svc.min ?? 0)
   const max = Number(svc.maxPrice ?? svc.max ?? min)
   if (!min || !max) return 0
   const step = 250000
@@ -1833,82 +1829,106 @@ const saveRefund = async () => {
     lyDoHoan: reason
   }

   try {
     await showLoading(api.post('/hop-dong/admin/hoan-phi', payload))
     updateAlertSuccess('Hoàn phí thành công', `-${formatMoney(refund.value.amount)}`)
     await fetchContracts()
     closeModal('modalRefund')
   } catch (error) {
     console.error('❌ Lỗi hoàn phí', error)
     updateAlertError('Hoàn phí thất bại', 'Vui lòng thử lại sau.')
   }
 }

 // Adjustment management
 const openAdjust = (contract) => {
   currentContract.value = contract
   adjustment.value = {
     amount: 0,
     type: 'GIAM_GIA',
     reason: ''
   }
   openModal('modalAdjust')
 }

-const saveAdjustment = () => {
+const handleAdjustmentAmountInput = (event) => {
+  const value = parseNumberInput(event.target.value, true)
+  if (adjustment.value.type !== 'GIAM_GIA' && value < 0) {
+    adjustment.value.amount = Math.abs(value)
+    return
+  }
+  adjustment.value.amount = value
+}
+
+const saveAdjustment = async () => {
   if (adjustment.value.amount === 0) {
     showToastMessage('error', 'Số tiền không hợp lệ', 'Điều chỉnh phải khác 0 (âm hoặc dương).')
     return
   }

   if (!ENUM_ADJ.includes(adjustment.value.type)) {
     showToastMessage('error', 'Loại điều chỉnh sai', 'Chọn GIAM_GIA/PHU_THU/PHAT.')
     return
   }

-  if (!adjustment.value.reason) {
-    showToastMessage('error', 'Thiếu lý do', 'Bạn cần nhập lý do điều chỉnh.')
+  if (adjustment.value.amount < 0 && adjustment.value.type !== 'GIAM_GIA') {
+    showToastMessage('error', 'Sai số tiền', 'Chỉ "Giảm thêm" mới được nhập số âm.')
     return
   }

-  const contractIndex = contracts.value.findIndex(c => c.id === currentContract.value.id)
-  if (contractIndex === -1) return
+  const reason = (adjustment.value.reason || '').trim()
+  if (!reason) {
+    showToastMessage('error', 'Thiếu lý do', 'Bạn cần nhập lý do điều chỉnh.')
+    return
+  }

-  contracts.value[contractIndex].dieuChinh.push({
-    id: crypto.randomUUID(),
+  const payload = {
+    hopDongId: currentContract.value.id,
     soTienDieuChinh: adjustment.value.amount,
     loaiDieuChinh: adjustment.value.type,
-    lyDo: adjustment.value.reason,
-    ngayTao: new Date().toLocaleString('vi-VN')
-  })
+    lyDo: reason
+  }

-  showToastMessage('success', 'Điều chỉnh thành công',
-      `${adjustment.value.amount > 0 ? '+' : ''}${formatMoney(adjustment.value.amount)} (${adjustment.value.type})`)
-  closeModal('modalAdjust')
+  try {
+    await showLoading(api.post('/hop-dong/admin/dieu-chinh', payload))
+    updateAlertSuccess('Điều chỉnh thành công',
+        `${adjustment.value.amount > 0 ? '+' : ''}${formatMoney(adjustment.value.amount)} (${adjustment.value.type})`)
+    await fetchContracts()
+    closeModal('modalAdjust')
+  } catch (error) {
+    console.error('❌ Lỗi điều chỉnh', error)
+    updateAlertError('Điều chỉnh thất bại', 'Vui lòng thử lại sau.')
+  }
 }

+watch(() => adjustment.value.type, (nextType) => {
+  if (nextType !== 'GIAM_GIA' && adjustment.value.amount < 0) {
+    adjustment.value.amount = Math.abs(adjustment.value.amount)
+  }
+})
+
 // Detail view
 const openDetail = (contract) => {
   currentContract.value = contract
   openModal('modalDetail')
 }

 // Delete management
 const openDelete = (contract) => {
   currentContract.value = contract
   openModal('modalDelete')
 }

 const confirmDelete = () => {
   contracts.value = contracts.value.filter(c => c.id !== currentContract.value.id)
   showToastMessage('success', 'Đã xóa', `Đã xóa ${currentContract.value.maHopDong}`)
   closeModal('modalDelete')
 }

 // Filters
 const resetFilters = () => {
   searchQuery.value = ''
   filterService.value = null
   filterStatus.value = null
   currentPage.value = 1
   fetchContracts()
@@ -2500,63 +2520,73 @@ onMounted(async () => {

 /* =========================
    KPI
 ========================= */
 .kpi-row{
   display:grid;
   grid-template-columns: repeat(4, minmax(0,1fr));
   gap:10px;
   margin-bottom: 12px;
 }
 @media (max-width: 980px){ .kpi-row{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
 @media (max-width: 520px){ .kpi-row{ grid-template-columns: 1fr; } }
 .kpi{
   border: 1px solid rgba(20,30,48,.12);
   border-radius: 14px;
   padding: 10px 12px;
   background: rgba(255,255,255,.84);
   box-shadow: 0 12px 24px rgba(20,30,48,.08);
   overflow:hidden;
 }
 .kpi-row .kpi{
   position: relative;
   border: none;
   color: #fff;
   background: var(--primary-gradient);
+  min-height: 120px;
+  display: flex;
+  flex-direction: column;
+  transition: var(--t);
+}
+.kpi-row .kpi:hover{
+  transform: translateY(-4px) scale(1.01);
+  box-shadow: 0 18px 32px rgba(20,30,48,.18);
 }
 .kpi-row .kpi-total{ background: var(--primary-gradient); }
 .kpi-row .kpi-revenue{ background: var(--success-gradient); }
 .kpi-row .kpi-adjust{ background: var(--warning-gradient); }
 .kpi-row .kpi-sales{ background: var(--secondary-gradient); }
 .kpi-row .kpi .k{
   color: rgba(255,255,255,.86);
 }
 .kpi-row .kpi .k .dot{
   background: rgba(255,255,255,.75);
 }
 .kpi-row .kpi .v{
   color: #fff;
+  margin-top: auto;
+  font-size: 22px;
 }
 .kpi-row .kpi .v.price{
   background: none;
   -webkit-text-fill-color: #fff;
 }
 .kpi-row .kpi-ico{
   position: absolute;
   top: 10px;
   right: 10px;
   font-size: 24px;
   opacity: 0.4;
 }
 .kpi .k{
   font-size: 11px;
   color: rgba(11,18,32,.60);
   font-weight: 900;
   letter-spacing: .3px;
   text-transform: uppercase;
   display:flex;
   gap:8px;
   align-items:center;
 }
 .kpi .k .dot{
   width: 8px; height: 8px; border-radius: 999px;
   background: var(--info-gradient);
