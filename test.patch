diff --git a/src/components/thiet-kegiandien/AppointmentsPage.vue b/src/components/thiet-kegiandien/AppointmentsPage.vue
index d476074c58483b05380f4bf1bd82fae5fadbaff8..4bc5b0471886a54472415d383be18067fbe76cb9 100644
--- a/src/components/thiet-kegiandien/AppointmentsPage.vue
+++ b/src/components/thiet-kegiandien/AppointmentsPage.vue
@@ -75,51 +75,70 @@ const CONSULT_STATUS = {
   SUCCESS: { label: 'Thành công', cls: 'cs-ok', icon: 'fa-circle-check' },
   FAIL: { label: 'Thất bại', cls: 'cs-fail', icon: 'fa-circle-xmark' },
   CARE: { label: 'Chăm sóc', cls: 'cs-care', icon: 'fa-hand-holding-heart' },
 }

 const APPOINTMENT_ACTION = {
   CREATE: { label: 'Tạo mới', cls: 'act-create' },
   EDIT: { label: 'Chỉnh sửa', cls: 'act-edit' },
   STATUS: { label: 'Đổi trạng thái', cls: 'act-status' },
   RESCHEDULE: { label: 'Dời lịch', cls: 'act-reschedule' },
   NOTE: { label: 'Ghi chú', cls: 'act-note' },
   DELETE: { label: 'Xoá lịch', cls: 'act-delete' },
 }

 const CUSTOMER_TYPE = {
   CHINH_CHU: { label: 'Chính chủ', cls: 'ct-owner' },
   MOI_GIOI: { label: 'Môi giới', cls: 'ct-broker' },
   NGUOI_THAN: { label: 'Người thân', cls: 'ct-relative' },
 }

 const RATING = {
   BAN_NHANH_30N: { label: 'Bán nhanh 30 ngày', cls: 'rt-bn30' },
   BAN_GP: { label: 'Bán giải pháp', cls: 'rt-bgp' },
 }

-const TIME_SLOTS = ['08:00', '09:00', '10:00', '11:00', '13:00', '14:00', '15:00', '16:00']
+const DAY_START_HOUR = 8
+const DAY_END_HOUR = 17
+const TIME_SLOTS = Array.from({ length: DAY_END_HOUR - DAY_START_HOUR + 1 }, (_, i) => `${pad2(DAY_START_HOUR + i)}:00`)
+
+function timeToMinutes(time) {
+  const [h, m] = String(time || '').split(':')
+  return Number(h) * 60 + Number(m)
+}
+
+function buildDaySlotTimes(list) {
+  const times = new Set(TIME_SLOTS)
+  list.forEach((a) => {
+    if (!a?.time) return
+    const minutes = timeToMinutes(a.time)
+    if (Number.isNaN(minutes)) return
+    if (minutes < DAY_START_HOUR * 60 || minutes > DAY_END_HOUR * 60) return
+    times.add(a.time)
+  })
+  return Array.from(times).sort((a, b) => timeToMinutes(a) - timeToMinutes(b))
+}

 function formatVNDate(yyyyMMdd) {
   const [y, m, d] = yyyyMMdd.split('-')
   return `${d}/${m}/${y}`
 }
 function toISODate(d) {
   return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}-${pad2(d.getDate())}`
 }
 function startOfWeek(dateObj) {
   const d = new Date(dateObj)
   const day = d.getDay()
   const diff = (day === 0 ? -6 : 1) - day
   d.setDate(d.getDate() + diff)
   d.setHours(0, 0, 0, 0)
   return d
 }
 function endOfWeek(dateObj) {
   const s = startOfWeek(dateObj)
   const e = new Date(s)
   e.setDate(e.getDate() + 7)
   return e
 }
 function endOfWeekInclusive(dateObj) {
   const s = startOfWeek(dateObj)
   const e = new Date(s)
@@ -459,58 +478,62 @@ function handleMonthNav(dir) {
   const y = calendarMonth.value.getFullYear()
   const m = calendarMonth.value.getMonth()
   const next = new Date(y, m + dir, 1)
   calendarMonth.value = next
   const nextISO = `${next.getFullYear()}-${pad2(next.getMonth() + 1)}-01`
   selectedDateISO.value = nextISO
   generateCalendar()
   updateDaySchedule()
   updateFilterOutputs()
   updateGlobalStats()
 }

 // ===== Day schedule (ăn theo selectedDate + filter range disable) =====
 function apptsForSelectedDay() {
   // Day Schedule cũng phải nằm trong range
   const inRange = isCellEnabled(selectedDateISO.value)
   if (!inRange) return []
   return appointments.value.filter((a) => a.date === selectedDateISO.value).sort((a, b) => a.time.localeCompare(b.time))
 }

 function updateDaySchedule() {
   dayTitle.value = `Day Schedule • ${formatVNDate(selectedDateISO.value)}`
   const list = apptsForSelectedDay()
   statSelectedDay.value = list.length

+  const slotTimes = buildDaySlotTimes(list)
   const byTime = new Map()
-  TIME_SLOTS.forEach((t) => byTime.set(t, []))
+  slotTimes.forEach((t) => byTime.set(t, []))
   list.forEach((a) => {
+    const minutes = timeToMinutes(a.time)
+    if (Number.isNaN(minutes)) return
+    if (minutes < DAY_START_HOUR * 60 || minutes > DAY_END_HOUR * 60) return
     if (!byTime.has(a.time)) byTime.set(a.time, [])
     byTime.get(a.time).push(a)
   })

-  daySlots.value = TIME_SLOTS.map((t) => ({ time: t, appointments: byTime.get(t) || [] }))
+  daySlots.value = slotTimes.map((t) => ({ time: t, appointments: byTime.get(t) || [] }))
 }

 // ===== Drag/drop =====
 function handleDragStart(e, appt) {
   if (appt.status === 'CANCELLED') return
   e.dataTransfer.setData('text/plain', String(appt.id))
   e.dataTransfer.effectAllowed = 'move'
 }
 function handleDragOver(e, time) {
   e.preventDefault()
   dragOverSlot.value = time
 }
 function handleDragLeave(time) {
   if (dragOverSlot.value === time) dragOverSlot.value = null
 }
 function handleDrop(e, targetTime) {
   e.preventDefault()
   dragOverSlot.value = null

   const id = Number(e.dataTransfer.getData('text/plain'))
   if (!id || !targetTime) return

   const appt = appointments.value.find((x) => x.id === id)
   if (!appt) return

