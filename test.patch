diff --git a/src/components/thiet-kegiandien/marketing-cap-da-ta.vue b/src/components/thiet-kegiandien/marketing-cap-da-ta.vue
index 2810a5dd38c4629699efc83ece210c5fcd919962..fa7b208659e039b32af8809b3f5b0d352dca1004 100644
--- a/src/components/thiet-kegiandien/marketing-cap-da-ta.vue
+++ b/src/components/thiet-kegiandien/marketing-cap-da-ta.vue
@@ -67,51 +67,51 @@
                   <div class="input-icon">
                     <span class="icon-chip" style="background: linear-gradient(135deg, #36D1DC, #5B86E5); color: white;">
                       <i class="fas fa-user"></i>
                     </span>
                     <input
                         v-model="formData.name"
                         type="text"
                         class="form-control"
                         placeholder="Nguyễn Văn A"
                         required
                     />
                   </div>
                 </div>

                 <div class="form-group">
                   <label>Số điện thoại <span class="required">*</span></label>
                   <div class="input-icon">
                     <span class="icon-chip" style="background: linear-gradient(135deg, #FF416C, #FF4B2B); color: white;">
                       <i class="fas fa-phone"></i>
                     </span>
                     <input
                         v-model="formData.phone"
                         type="tel"
                         class="form-control"
                         placeholder="09xxxxxxxx"
-                        @blur="formData.phone = normalizePhone(formData.phone)"
+                        @blur="handlePhoneBlur"
                         required
                     />
                   </div>
                 </div>
               </div>

               <div class="form-row">
                 <!-- Province/City Searchable Dropdown -->
                 <div class="form-group">
                   <label>Tỉnh/Thành <span class="required">*</span></label>
                   <div class="input-icon select-like" :class="{ open: provinceDropdownOpen }" style="position: relative;">
                     <span class="icon-chip" style="background: linear-gradient(135deg, #8344C5, #3A7BD5); color: white;">
                       <i class="fas fa-location-dot"></i>
                     </span>

                     <input
                         v-model="provinceSearch"
                         @focus="provinceDropdownOpen = true"
                         @input="provinceDropdownOpen = true"
                         @blur="closeProvinceDropdown"
                         type="text"
                         class="form-control"
                         placeholder="Tìm tỉnh/thành"
                         autocomplete="off"
                         style="cursor: pointer;"
@@ -973,72 +973,118 @@ const formatCurrency = (amount) => {
 function normalizePriceInput(value) {
   return String(value || "").replace(/[^\d]/g, "");
 }
 function formatPriceDisplay(value) {
   if (!value) return "";
   return String(value).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
 }
 function handlePriceInput(event) {
   const raw = normalizePriceInput(event.target.value);
   priceDisplay.value = formatPriceDisplay(raw);
   formData.price = raw ? Number(raw) : "";
 }
 function syncPriceDisplay() {
   const raw = normalizePriceInput(priceDisplay.value);
   priceDisplay.value = formatPriceDisplay(raw);
   formData.price = raw ? Number(raw) : "";
 }

 /* ===== Upload ===== */
 const pickedFileNames = ref([]);
 const pickedFileLabel = computed(() => {
   if (!pickedFileNames.value.length) return "";
   if (pickedFileNames.value.length === 1) return pickedFileNames.value[0];
   return `${pickedFileNames.value.length} tệp: ${pickedFileNames.value.join(", ")}`;
 });
+const lastCheckedPhone = ref("");
+const isCheckingPhone = ref(false);
 function onPickFile(e) {
   const files = Array.from(e?.target?.files || []);
   pickedFileNames.value = files.map(file => file.name);
 }
 function clearPickedFile() {
   pickedFileNames.value = [];
   const fileInput = document.getElementById("fileInput");
   if (fileInput) fileInput.value = "";
 }

 /* ===== Validate ===== */
 function isValidName(name) {
   const normalized = name.trim().replace(/\s+/g, " ");
   if (!normalized) return false;
   const words = normalized.split(" ");
   if (words.length < 2) return false;
   return /^[A-Za-zÀ-ỹ\s]+$/u.test(normalized);
 }
 function isValidPhone(phone) {
   const normalized = normalizePhone(phone);
   return /^(0\d{9})$/.test(normalized);
 }
+async function handlePhoneBlur() {
+  const normalized = normalizePhone(formData.phone);
+  formData.phone = normalized;
+
+  if (!normalized) return;
+
+  if (!isValidPhone(normalized)) {
+    showCenterWarning("Số điện thoại không đúng định dạng (ví dụ: 09xxxxxxxx).");
+    return;
+  }
+
+  if (normalized === lastCheckedPhone.value || isCheckingPhone.value) return;
+
+  isCheckingPhone.value = true;
+  try {
+    const res = await api.get("/customer-crm/marketing/check-phone", {
+      withCredentials: true,
+      params: { phone: normalized },
+    });
+
+    if (res?.data?.success === false) {
+      showCenterWarning(res?.data?.message || "Số điện thoại không hợp lệ.");
+      return;
+    }
+
+    const exists = Boolean(
+      res?.data?.data ??
+      res?.data?.exists ??
+      res?.data?.result ??
+      res?.data?.payload?.exists
+    );
+
+    if (exists) {
+      showCenterWarning("Số điện thoại đã tồn tại trong hệ thống.");
+    }
+
+    lastCheckedPhone.value = normalized;
+  } catch (err) {
+    console.error(err);
+    showCenterError("Không thể kiểm tra số điện thoại. Vui lòng thử lại!");
+  } finally {
+    isCheckingPhone.value = false;
+  }
+}
 function validateForm() {
   if (!formData.name?.trim()) {
     showCenterWarning("Vui lòng nhập họ tên.");
     return false;
   }
   if (!isValidName(formData.name)) {
     showCenterWarning("Họ tên phải có ít nhất 2 từ và không chứa số hoặc ký tự đặc biệt.");
     return false;
   }
   if (!formData.phone?.trim()) {
     showCenterWarning("Vui lòng nhập số điện thoại.");
     return false;
   }
   if (!isValidPhone(formData.phone)) {
     showCenterWarning("Số điện thoại không đúng định dạng (ví dụ: 09xxxxxxxx).");
     return false;
   }
   if (!formData.area?.trim()) {
     showCenterWarning("Vui lòng chọn tỉnh/thành.");
     return false;
   }
   if (!formData.price) {
     showWarning("Vui lòng nhập giá bán.");
     return false;
   }
