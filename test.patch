diff --git a/src/components/thiet-kegiandien/admin-saleadmin.vue b/src/components/thiet-kegiandien/admin-saleadmin.vue
index e2db2696f311f2029cba161948cd873cf4f003be..ca22c67e859619e1e64d4d75deede3d8084751c2 100644
--- a/src/components/thiet-kegiandien/admin-saleadmin.vue
+++ b/src/components/thiet-kegiandien/admin-saleadmin.vue
@@ -535,55 +535,65 @@
                     <tr
                         v-for="(customer, index) in customers"
                         :key="customer.id"
                         class="table-row-clickable"
                         @click="openCustomerDetail(customer)"
                     >
                       <!-- Checkbox -->
                       <td style="width: 20px !important;">
                         <input
                             type="checkbox"
                             class="form-check-input customer-checkbox"
                             :checked="customer.selected"
                             @click.stop
                             @change="toggleCustomerSelection(customer.id)"
                         >
                       </td>

                       <!-- ID -->
                       <td style="width: 20px !important;">
                         <span class="badge bg-light text-dark">{{ customer.index }}</span>
                       </td>

                       <!-- Khách hàng -->
                       <td style="width: 220px!important;">
                         <div class="d-flex align-items-center">
-                          <img
-                              :src="customer.avatarKhach || generateAvatarFromName(customer.hoTen)"
-                              :alt="customer.hoTen"
-                              class="customer-avatar me-3"
-                          />
+                          <div class="customer-avatar-wrap me-3">
+                            <img
+                                :src="customer.avatarKhach || generateAvatarFromName(customer.hoTen)"
+                                :alt="customer.hoTen"
+                                class="customer-avatar"
+                            />
+                            <span
+                                v-if="customer.nguonKhachHang"
+                                class="source-icon-badge"
+                                :class="`source-${customer.nguonKhachHang}`"
+                                :title="getSourceLabel(customer.nguonKhachHang)"
+                            >
+                              <i :class="getSourceIcon(customer.nguonKhachHang)"></i>
+                            </span>
+                          </div>
                           <div>
                             <div class="fw-semibold">{{ shortenName( customer.hoTen, 15 )}}</div>
                             <small class="text-muted">{{ customer.ngayTao }}</small>
                           </div>
                         </div>
                       </td>

                       <!-- SĐT -->
                       <td class="fw-medium">
                         {{ formatPhoneNumber(customer.soDienThoai) }}
                       </td>

                       <!-- Tỉnh / TP -->
                       <td>
                         {{ getProvinceShortLabel(customer.tinhThanhPho) }}
                       </td>

                       <!-- Phân loại -->
                       <td>
     <span :class="`type-badge type-${customer.phanLoaiKhach}`">
       {{ getTypeLabel(customer.phanLoaiKhach) }}
     </span>
                       </td>

                       <!-- Trạng thái -->
@@ -1209,50 +1219,57 @@
           <div class="modal-content ">
             <div class="modal-header">
               <h5 class="modal-title">
                 <i class="fas fa-address-card me-2"></i>
                 Chi tiết khách hàng
               </h5>
               <button type="button" class="btn-close btn-close-white" @click="closeDetailModal"></button>
             </div>
             <div class="modal-body" v-if="detailCustomer">
               <!-- Hero section - Avatar và thông tin cơ bản -->
               <div class="detail-hero">
                 <div class="detail-avatar">
                   <div  class="avatar-img">
                     <img
                         :src=" generateAvatarFromName( detailCustomer.hoTen )"
                         :alt="detailCustomer.hoTen"
                     >
                   </div>
                 </div>
                 <div class="detail-hero-info">
                   <div class="detail-hero-title">
                     <h4 class="mb-0">{{ detailCustomer.hoTen }}</h4>
                     <span :class="['status-badge', getStatusClass(detailCustomer.trangThai)]" style="font-size: 14px !important;">
                   {{ getStatusLabel(detailCustomer.trangThai) }}
                 </span>
+                    <span
+                      v-if="detailCustomer.nguonKhachHang"
+                      class="source-badge"
+                      :class="`source-${detailCustomer.nguonKhachHang}`"
+                    >
+                      {{ getSourceLabel(detailCustomer.nguonKhachHang) }}
+                    </span>
                   </div>
                   <div class="detail-hero-meta">
                     <span><i class="fas fa-phone-alt"></i> {{ formatPhoneNumber(detailCustomer.soDienThoai) }}</span>
                     <span><i class="fas fa-map-marker-alt"></i> {{ detailCustomer.tinhThanhPho }}</span>
                     <span><i class="fas fa-calendar-alt"></i> Ngày tạo: {{ detailCustomer.ngayTao }}</span>
                   </div>
                   <div class="detail-hero-tags">
                 <span :class="`type-badge type-${detailCustomer.phanLoaiKhach}`" style="font-size: 14px !important;">
                   {{ getTypeLabel(detailCustomer.phanLoaiKhach) }}
                 </span>
                     <span class="update-badge" style="font-size: 16px !important;">
                   <i class="fas fa-sync-alt me-1"></i>Cập nhật: {{ detailCustomer.ngayCapNhat }}
                 </span>
                   </div>
                 </div>
               </div>

               <!-- Main content - 2 cột -->
               <div class="detail-main">
                 <!-- Cột trái: Thông tin chi tiết -->
                 <div class="detail-left-col">
                   <div class="detail-section">
                     <h6 class="section-title-detail">
                       <i class="fas fa-user-circle me-2 icon-red"></i>
                       Thông tin khách hàng
@@ -1273,50 +1290,56 @@
                       <div class="info-item">
                         <div class="info-label">Loại dịch vụ triển khai</div>
                         <div class="info-value">
                           <span
                             v-if="detailServiceName"
                             class="service-badge"
                             :style="{ background: detailServiceColor ? `linear-gradient(135deg, ${detailServiceColor}, #ffffff)` : 'linear-gradient(135deg, #22c55e, #2dd4bf)' }"
                           >
                             {{ detailServiceName }}
                           </span>
                           <span v-else>-</span>
                         </div>
                       </div>
                       <div class="info-item">
                         <div class="info-label">Địa chỉ</div>
                         <div class="info-value">{{ detailCustomer.tinhThanhPho }}</div>
                       </div>
                       <div class="info-item">
                         <div class="info-label">Phân loại</div>
                         <div class="info-value">
                       <span :class="`type-label type-${detailCustomer.phanLoaiKhach}`" style=" font-size: 1rem !important;">
                         {{ getTypeLabel(detailCustomer.phanLoaiKhach) }}
                       </span>
                         </div>
                       </div>
+                      <div class="info-item">
+                        <div class="info-label">Nguồn khách</div>
+                        <div class="info-value">
+                          {{ getSourceLabel(detailCustomer.nguonKhachHang) || '-' }}
+                        </div>
+                      </div>
                     </div>
                   </div>

                   <div class="detail-section">
                     <h6 class="section-title-detail">
                       <i class="fas fa-users me-2 icon-green"></i>
                       Nhân sự phụ trách
                     </h6>
                     <div class="staff-grid">
                       <div class="staff-item">
                         <div class="staff-avatar">
                           <div v-if="detailCustomer.nhanVienTaoAvatar" class="avatar-img">
                             <img :src=" 'https://s3.cloudfly.vn/thg-storage/uploads-public/'+  detailCustomer.nhanVienTaoAvatar" :alt="detailCustomer.nhanVienTaoTen">
                           </div>
                           <div v-else class="avatar-placeholder small">
                             <i class="fas fa-user"></i>
                           </div>
                         </div>
                         <div class="staff-info">
                           <div class="staff-role">Người tạo</div>
                           <div class="staff-name">{{ detailCustomer.nhanVienTaoTen || '-' }}</div>
                         </div>
                       </div>
                       <div class="staff-item">
                         <div class="staff-avatar">
@@ -2545,50 +2568,59 @@ const getStatusLabel = (status) => {
     CHAM_SOC: 'Chăm sóc',
     TN_7NGAY: 'TN 7 ngày',
     TN_14NGAY: 'TN 14 ngày',

     THANH_CONG: 'Thành công',

     // ===== BỔ SUNG =====
     KHACH_HUY_HEN: 'Huỷ hẹn',
     TRIEN_KHAI: 'Triển khai',

     THAT_BAI: 'Thất bại',
     KHONG_LIEN_LAC_DUOC: 'KLLD',
     SAI_SO: 'Sai số',
     SAI_SO_LIEU: 'Sai số',
   }

   const normalizedStatus = normalizeStatus(status)
   return statusMap[normalizedStatus] || normalizedStatus
 }

 const getTypeLabel = (type) => {
   const typeMap = { 'MOI_GIOI': 'Môi giới', 'CHINH_CHU': 'Chủ nhà', 'NGUOI_THAN': 'Người thân' }
   return typeMap[type] || type
 }

+const getSourceMeta = (source) => customerSources.find((item) => item.id === source) || {}
+
+const getSourceLabel = (source) => {
+  if (!source) return ''
+  return getSourceMeta(source).label || source
+}
+
+const getSourceIcon = (source) => getSourceMeta(source).icon || 'fas fa-circle'
+
 const getProvinceLabel = (province) => {
   if (!province) return '-'
   if (province === 'Khác' || province === 'other') return 'Khác'
   const provinceMatch = addressData.find(item => item.name === province)
   if (provinceMatch) return provinceMatch.name
   const legacyMap = {
     'hanoi': 'Thành phố Hà Nội',
     'hcm': 'Thành phố Hồ Chí Minh',
     'danang': 'Thành phố Đà Nẵng',
     'haiphong': 'Thành phố Hải Phòng',
     'cantho': 'Thành phố Cần Thơ'
   }
   return legacyMap[province] || province
 }

 const formatPhoneNumber = (phone) => {
   if (!phone) return '-'
   return phone.replace(/(\d{4})(\d{3})(\d{3})/, '$1 $2 $3')
 }

 const formatCurrency = (value) => {
   if (value === null || value === undefined || value === '') return '-'
   const numericValue = Number(value)
   if (Number.isNaN(numericValue)) return value
   return `${new Intl.NumberFormat('vi-VN').format(numericValue)} ₫`
@@ -3671,50 +3703,91 @@ h1,h2,h3,h4,h5,h6 { font-family: 'Poppins', sans-serif; font-weight: 600; }

 .table-custom td {
   padding: 15px !important ;
   vertical-align: middle !important;
   border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
   font-size: 16px !important;
 }

 .table-custom tbody tr { transition: var(--transition-fast); }
 .table-row-clickable { cursor: pointer; }
 .table-custom tbody tr:hover { background: rgba(102, 126, 234, 0.03)!important;  }
 .table-custom tbody tr:hover td {
   background: rgba(102, 126, 234, 0.06) !important;
   border: none !important;
 }

 .customer-avatar {
   width: 42px; height: 42px;
   border-radius: 50%;
   object-fit: cover;
   border: 3px solid white;
   box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
   transition: var(--transition-normal);
 }

+.customer-avatar-wrap {
+  position: relative;
+  display: inline-flex;
+  align-items: center;
+  justify-content: center;
+}
+
+.source-icon-badge {
+  position: absolute;
+  top: -6px;
+  left: -6px;
+  width: 20px;
+  height: 20px;
+  border-radius: 50%;
+  display: inline-flex;
+  align-items: center;
+  justify-content: center;
+  color: #fff;
+  font-size: 10px;
+  border: 2px solid #fff;
+  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.18);
+  transform: rotate(-12deg);
+}
+
+.source-badge {
+  display: inline-flex;
+  align-items: center;
+  gap: 6px;
+  padding: 4px 10px;
+  border-radius: 999px;
+  font-size: 13px;
+  font-weight: 600;
+  color: #fff;
+}
+
+.source-ADS { background: #f97316; }
+.source-FORUM { background: #6366f1; }
+.source-RAO_VAT { background: #14b8a6; }
+.source-FB { background: #1877f2; }
+.source-SEO { background: #22c55e; }
+
 .customer-avatar-lg {
   width: 72px;
   height: 72px;
   border-radius: 50%;
   object-fit: cover;
   border: 4px solid white;
   box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
 }

 .detail-modal .modal-content {
   border-radius: 24px;
   overflow: hidden;
 }

 .detail-hero {
   display: flex;
   gap: 20px;
   align-items: center;
   padding: 20px;
   background: linear-gradient(135deg, rgba(102, 126, 234, 0.12), rgba(118, 75, 162, 0.08));
   border-radius: 18px;
   margin-bottom: 24px;
 }

 .detail-avatar img {
