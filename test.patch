diff --git a/src/components/productAdmin/ProductUpdate.vue b/src/components/productAdmin/ProductUpdate.vue
index 655e06d08c20e05ffd6b43f94836dd474503f304..71f09f70f1a59fc91c2f8947f94a00e10c9bc5c4 100644
--- a/src/components/productAdmin/ProductUpdate.vue
+++ b/src/components/productAdmin/ProductUpdate.vue
@@ -242,320 +242,588 @@
                     <option value="Hẻm nhỏ"></option>
                     <option value="Gần chợ"></option>
                     <option value="Gần trường học"></option>
                   </datalist>
                   <small v-if="errors.landPosition" class="text-danger">{{ errors.landPosition }}</small>
                 </div>

                 <div class="col-md-4">
                   <label class="form-label fw-semibold d-flex align-items-center gap-2">
                     <i class="fas fa-map-signs text-success"></i>
                     <span>Địa chỉ cũ</span>
                   </label>
                   <input type="text" class="form-control" v-model.trim="form.oldAddress" placeholder="Địa chỉ trước đây (nếu có)">
                 </div>
               </div>
             </section>
           </div>

           <div v-show="activeTab === 'legal'" class="tab-panel">
             <section class="mb-5">
               <div class="d-flex align-items-center mb-4 border-bottom pb-3">
                 <div class="section-icon bg-warning-light">
                   <i class="fas fa-balance-scale text-warning"></i>
                 </div>
                 <div>
-                  <h2 class="h5 fw-bold mb-1">Pháp lý & diện tích</h2>
-                  <p class="text-muted small mb-0">Thông tin pháp lý và diện tích tài sản</p>
+                  <h2 class="h5 fw-bold mb-1">Thông tin pháp lý &amp; diện tích</h2>
+                  <p class="text-muted small mb-0">Các thông tin mô tả đặc điểm và pháp lý của tài sản</p>
                 </div>
               </div>
+
               <div class="row g-4">
-                <div class="col-md-2">
-                  <label class="form-label fw-semibold">Số thửa <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.plotNumber" placeholder="Nhập số thửa">
+                <div class="col-md-4">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-hashtag text-primary"></i>
+                    <span>Số thửa <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="text" class="form-control" v-model.trim="form.plotNumber" placeholder="Số thửa">
                   <small v-if="errors.plotNumber" class="text-danger">{{ errors.plotNumber }}</small>
                 </div>
-                <div class="col-md-2">
-                  <label class="form-label fw-semibold">Số tờ <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.parcelNumber" placeholder="Nhập số tờ">
+
+                <div class="col-md-4">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-file-alt text-info"></i>
+                    <span>Số tờ <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="text" class="form-control" v-model.trim="form.parcelNumber" placeholder="Số tờ">
                   <small v-if="errors.parcelNumber" class="text-danger">{{ errors.parcelNumber }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Tổng diện tích <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.totalArea" placeholder="Tổng diện tích">
-                    <span class="input-group-text">m²</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-expand-alt text-success"></i>
+                    <span>Tổng diện tích (m²) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.totalArea" placeholder="Tổng diện tích tài sản">
+                    <span class="input-group-text"><i class="fas fa-ruler-combined"></i></span>
                   </div>
                   <small v-if="errors.totalArea" class="text-danger">{{ errors.totalArea }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Quan hệ sở hữu <span class="text-danger">*</span></label>
-                  <input v-model.trim="form.ownershipRelation" list="ownershipRelations" class="form-control" placeholder="Quan hệ sở hữu">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-handshake text-warning"></i>
+                    <span>Quan hệ sở hữu <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.ownershipRelation"
+                    list="ownershipRelations"
+                    placeholder="Quan hệ với chủ sở hữu"
+                  >
+
                   <datalist id="ownershipRelations">
                     <option value="Chính chủ"></option>
-                    <option value="Thừa kế"></option>
+                    <option value="Người thân"></option>
+                    <option value="Uỷ quyền"></option>
                     <option value="Đồng sở hữu"></option>
+                    <option value="Môi giới đại diện"></option>
                   </datalist>
                   <small v-if="errors.ownershipRelation" class="text-danger">{{ errors.ownershipRelation }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Quyền sử dụng đất <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.landUseRight" placeholder="Quyền sử dụng đất">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-gavel text-danger"></i>
+                    <span>Quyền sử dụng  <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.landUseRight"
+                    list="landUseRights"
+                    placeholder="Quyền sử dụng đất"
+                  >
+
+                  <datalist id="landUseRights">
+                    <option value="Sổ đỏ"></option>
+                    <option value="Sổ hồng"></option>
+                    <option value="Đất thổ cư"></option>
+                    <option value="Đất nông nghiệp"></option>
+                    <option value="Giấy tờ viết tay"></option>
+                  </datalist>
                   <small v-if="errors.landUseRight" class="text-danger">{{ errors.landUseRight }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Tình trạng <span class="text-danger">*</span></label>
-                  <select class="form-select" v-model="form.status">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-clipboard-check text-info"></i>
+                    <span>Trạng thái <span class="text-danger">*</span></span>
+                  </label>
+                  <select class="form-select form-select-md" v-model="form.status">
                     <option value="">-- Chọn tình trạng --</option>
                     <option value="Chưa định giá">Mới</option>
                     <option value="Bán giải pháp">Bán giải pháp</option>
                     <option value="Bán nhanh 30 ngày">Bán nhanh 30 ngày</option>
                     <option value="Đã bán">Đã bán</option>
                   </select>
                   <small v-if="errors.status" class="text-danger">{{ errors.status }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Mặt tiền <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.matTienNha" placeholder="Mặt tiền">
-                    <span class="input-group-text">m</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-vector-square text-success"></i>
+                    <span>Mặt tiền (m) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" class="form-control" step="0.01" v-model.number="form.matTienNha"
+                           placeholder="Mặt tiền tổng tài sản">
+                    <span class="input-group-text"><i class="fas fa-home"></i></span>
                   </div>
                   <small v-if="errors.matTienNha" class="text-danger">{{ errors.matTienNha }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Chiều ngang <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.chieuNgang" placeholder="Chiều ngang">
-                    <span class="input-group-text">m</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-arrows-alt-h text-primary"></i>
+                    <span>Chiều ngang (m) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.chieuNgang"
+                           placeholder="Tổng chiều ngang tài sản">
+                    <span class="input-group-text"><i class="fas fa-ruler-horizontal"></i></span>
                   </div>
                   <small v-if="errors.chieuNgang" class="text-danger">{{ errors.chieuNgang }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Chiều dài <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.chieuDai" placeholder="Chiều dài">
-                    <span class="input-group-text">m</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-arrows-alt-v text-success"></i>
+                    <span>Chiều dài (m) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.chieuDai"
+                           placeholder="Tổng chiều dài sản phẩm">
+                    <span class="input-group-text"><i class="fas fa-ruler-vertical"></i></span>
                   </div>
                   <small v-if="errors.chieuDai" class="text-danger">{{ errors.chieuDai }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Hiện trạng đất <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.hienTrangDat" placeholder="Hiện trạng đất">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-search text-info"></i>
+                    <span>Hiện trạng đất <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.hienTrangDat"
+                    list="hienTrangDatList"
+                    placeholder="Hiện trạng"
+                  >
+
+                  <datalist id="hienTrangDatList">
+                    <option value="Đất trống"></option>
+                    <option value="Có nhà"></option>
+                    <option value="Đã lên thổ cư"></option>
+                    <option value="Đang cho thuê"></option>
+                    <option value="Đang tranh chấp"></option>
+                  </datalist>
                   <small v-if="errors.hienTrangDat" class="text-danger">{{ errors.hienTrangDat }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Độ rộng đường <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.doRongDuong" placeholder="Độ rộng đường">
-                    <span class="input-group-text">m</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-arrows-alt-h text-success"></i>
+                    <span>Độ rộng đường (m) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.doRongDuong"
+                           placeholder="Độ rồng đường vào tài sản">
+                    <span class="input-group-text"><i class="fas fa-road"></i></span>
                   </div>
                   <small v-if="errors.doRongDuong" class="text-danger">{{ errors.doRongDuong }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Lộ giới <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.loGioi" placeholder="Lộ giới">
-                    <span class="input-group-text">m</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-ruler-horizontal text-primary"></i>
+                    <span>Lộ giới (m) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.loGioi"
+                           placeholder="Lộ giới">
+                    <span class="input-group-text"><i class="fas fa-ruler"></i></span>
                   </div>
                   <small v-if="errors.loGioi" class="text-danger">{{ errors.loGioi }}</small>
                 </div>
-                <div class="col-md-4">
-                  <label class="form-label fw-semibold">Mô tả hình dạng/kết cấu <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.structure" placeholder="Mô tả hình dạng/kết cấu">
+
+                <div class="col-12">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-archway text-danger"></i>
+                    <span>Hình dạng / Kết cấu <span class="text-danger">*</span></span>
+                  </label>
+                  <textarea class="form-control" v-model.trim="form.structure" rows="2" placeholder="Mô tả kết cấu công trình"></textarea>
                   <small v-if="errors.structure" class="text-danger">{{ errors.structure }}</small>
                 </div>
               </div>
+            </section>

-              <div v-if="isSold" class="row g-4 mt-2">
+            <section v-if="isSold" class="mb-5">
+              <div class="d-flex align-items-center mb-4 border-bottom pb-3">
+                <div class="section-icon bg-success-light">
+                  <i class="fas fa-user-check text-success"></i>
+                </div>
+                <div>
+                  <h2 class="h5 fw-bold mb-1">Người bán thành công</h2>
+                  <p class="text-muted small mb-0">Thông tin người chốt giao dịch</p>
+                </div>
+              </div>
+
+              <div class="row g-4">
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Người bán <span class="text-danger">*</span></label>
+                  <label class="form-label fw-semibold">
+                    Email / Số điện thoại <span class="text-danger">*</span>
+                  </label>
                   <div class="input-group">
-                    <span class="input-group-text bg-light"><i class="fas fa-search text-muted"></i></span>
-                    <input type="text" class="form-control" v-model.trim="form.nguoiBanSearch" placeholder="Email hoặc số điện thoại">
-                    <button type="button" class="btn btn-outline-primary" @click="handleNguoiBanLookup">
+                    <span class="input-group-text">
                       <i class="fas fa-search"></i>
-                    </button>
+                    </span>
+                    <input
+                      v-model.trim="form.nguoiBanSearch"
+                      @blur="handleNguoiBanLookup"
+                      type="text"
+                      class="form-control"
+                      placeholder="Nhập email hoặc SĐT"
+                    />
                   </div>
-                  <small v-if="errors.nguoiBanSearch" class="text-danger">{{ errors.nguoiBanSearch }}</small>
-                  <div v-if="form.nguoiBanTen" class="small text-muted mt-1">Đã chọn: {{ form.nguoiBanTen }}</div>
+                  <small v-if="errors.nguoiBanSearch" class="text-danger">
+                    {{ errors.nguoiBanSearch }}
+                  </small>
+                </div>
+
+                <div class="col-md-4">
+                  <label class="form-label fw-semibold">
+                    Người bán
+                  </label>
+                  <input
+                    type="text"
+                    class="form-control bg-light"
+                    readonly
+                    v-model="form.nguoiBanTen"
+                    placeholder="Tự động load"
+                  />
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Giá bán thành công <span class="text-danger">*</span></label>
+                  <label class="form-label fw-semibold">
+                    Giá bán thành công <span class="text-danger">*</span>
+                  </label>
                   <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.giaBanThanhCong" placeholder="Giá bán thành công">
+                    <input
+                      type="number"
+                      min="0"
+                      step="1000000"
+                      v-model.number="form.giaBanThanhCong"
+                      class="form-control"
+                      placeholder="Giá chốt"
+                    />
                     <span class="input-group-text">VNĐ</span>
                   </div>
-                  <small v-if="errors.giaBanThanhCong" class="text-danger">{{ errors.giaBanThanhCong }}</small>
+                  <small v-if="errors.giaBanThanhCong" class="text-danger">
+                    {{ errors.giaBanThanhCong }}
+                  </small>
+                  <small v-else-if="form.giaBanThanhCong" class="text-info fw-medium mt-1 d-block">
+                    <i class="fas fa-chart-line me-1"></i>{{ formatMoneyVN(form.giaBanThanhCong) }}
+                  </small>
+                </div>
+
+                <div class="col-md-4">
+                  <label class="form-label fw-semibold">
+                    Ngày bán <span class="text-danger">*</span>
+                  </label>
+                  <input
+                    v-model="form.ngayBan"
+                    type="date"
+                    class="form-control"
+                  />
+                  <small v-if="errors.ngayBan" class="text-danger">
+                    {{ errors.ngayBan }}
+                  </small>
                 </div>
               </div>
             </section>
           </div>

           <div v-show="activeTab === 'house'" class="tab-panel">
             <section class="mb-5">
               <div class="d-flex align-items-center mb-4 border-bottom pb-3">
-                <div class="section-icon bg-danger-light">
-                  <i class="fas fa-home text-danger"></i>
+                <div class="section-icon bg-warning-light">
+                  <i class="fas fa-home text-warning"></i>
                 </div>
                 <div>
-                  <h2 class="h5 fw-bold mb-1">Thông tin nhà &amp; phòng</h2>
-                  <p class="text-muted small mb-0">Các thông tin mô tả đặc điểm và pháp lý của tài sản</p>
+                  <h2 class="h5 fw-bold mb-1">Thông tin nhà</h2>
+                  <p class="text-muted small mb-0">Chi tiết về công trình nhà ở</p>
                 </div>
               </div>
               <div class="row g-4">
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Diện tích sàn <span class="text-danger">*</span></label>
-                  <div class="input-group">
-                    <input type="number" min="0" class="form-control" v-model.number="form.floorArea" placeholder="Diện tích sàn">
-                    <span class="input-group-text">m²</span>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-layer-group text-info"></i>
+                    <span>Diện tích sàn (m²) <span class="text-danger">*</span></span>
+                  </label>
+                  <div class="input-group input-group-md">
+                    <input type="number" min="0" step="0.01" class="form-control" v-model.number="form.floorArea">
+                    <span class="input-group-text"><i class="fas fa-th-large"></i></span>
                   </div>
                   <small v-if="errors.floorArea" class="text-danger">{{ errors.floorArea }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Loại nhà <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.loaiNha" placeholder="Loại nhà">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-house-user text-success"></i>
+                    <span>Loại nhà <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.loaiNha"
+                    placeholder="Loại nhà"
+                    list="loaiNhaList"
+                  >
+                  <datalist id="loaiNhaList">
+                    <option value="Nhà cấp 4"></option>
+                    <option value="Chung cư"></option>
+                    <option value="Nhà 4 tầng"></option>
+                    <option value="Nhà phố"></option>
+                    <option value="Nhà biệt thự"></option>
+                  </datalist>
                   <small v-if="errors.loaiNha" class="text-danger">{{ errors.loaiNha }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Tổng số phòng <span class="text-danger">*</span></label>
-                  <input type="number" min="0" class="form-control" v-model.number="form.tongSoPhong" placeholder="Tổng số phòng">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-door-closed text-warning"></i>
+                    <span>Tổng số phòng <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="number" min="0" class="form-control" v-model.number="form.tongSoPhong">
                   <small v-if="errors.tongSoPhong" class="text-danger">{{ errors.tongSoPhong }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Số phòng ngủ <span class="text-danger">*</span></label>
-                  <input type="number" min="0" class="form-control" v-model.number="form.soPhongNgu" placeholder="Số phòng ngủ">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-bed text-primary"></i>
+                    <span>Số phòng ngủ <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="number" min="0" class="form-control" v-model.number="form.soPhongNgu">
                   <small v-if="errors.soPhongNgu" class="text-danger">{{ errors.soPhongNgu }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Số phòng tắm <span class="text-danger">*</span></label>
-                  <input type="number" min="0" class="form-control" v-model.number="form.soPhongTam" placeholder="Số phòng tắm">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-bath text-info"></i>
+                    <span>Số phòng tắm <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="number" min="0" class="form-control" v-model.number="form.soPhongTam">
                   <small v-if="errors.soPhongTam" class="text-danger">{{ errors.soPhongTam }}</small>
                 </div>
-                <div class="col-md-4">
-                  <label class="form-label fw-semibold">Số tầng <span class="text-danger">*</span></label>
-                  <input type="number" min="0" class="form-control" v-model.number="form.soTang" placeholder="Số tầng">
-                  <small v-if="errors.soTang" class="text-danger">{{ errors.soTang }}</small>
-                </div>
-                <div class="col-md-4">
-                  <label class="form-label fw-semibold">Số lầu <span class="text-danger">*</span></label>
-                  <input type="number" min="0" class="form-control" v-model.number="form.soLau" placeholder="Số lầu">
+
+                <div class="col-md-2">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-layer-group text-primary"></i>
+                    <span>Số lầu <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="number" min="0" class="form-control" v-model.number="form.soLau">
                   <small v-if="errors.soLau" class="text-danger">{{ errors.soLau }}</small>
                 </div>
+
+                <div class="col-md-2">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-building text-info"></i>
+                    <span>Số tầng <span class="text-danger">*</span></span>
+                  </label>
+                  <input type="number" min="0" class="form-control" v-model.number="form.soTang">
+                  <small v-if="errors.soTang" class="text-danger">{{ errors.soTang }}</small>
+                </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Nội thất <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.noiThat" placeholder="Nội thất">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-couch text-warning"></i>
+                    <span>Nội thất <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.noiThat"
+                    list="noiThatList"
+                    placeholder="Nội thất"
+                  >
+
+                  <datalist id="noiThatList">
+                    <option value="Full nội thất"></option>
+                    <option value="Cơ bản"></option>
+                    <option value="Nội thất trống"></option>
+                    <option value="Có tủ bếp"></option>
+                    <option value="Có máy lạnh"></option>
+                  </datalist>
                   <small v-if="errors.noiThat" class="text-danger">{{ errors.noiThat }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Hiện trạng nhà <span class="text-danger">*</span></label>
-                  <input type="text" class="form-control" v-model.trim="form.hienTrangNha" placeholder="Hiện trạng nhà">
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-search text-primary"></i>
+                    <span>Hiện trạng nhà <span class="text-danger">*</span></span>
+                  </label>
+
+                  <input
+                    type="text"
+                    class="form-control"
+                    v-model.trim="form.hienTrangNha"
+                    list="hienTrangNhaList"
+                    placeholder="Hiện trạng"
+                  >
+
+                  <datalist id="hienTrangNhaList">
+                    <option value="Nhà mới"></option>
+                    <option value="Nhà đang ở"></option>
+                    <option value="Nhà đang cho thuê"></option>
+                    <option value="Nhà xuống cấp"></option>
+                    <option value="Nhà bỏ trống"></option>
+                  </datalist>
                   <small v-if="errors.hienTrangNha" class="text-danger">{{ errors.hienTrangNha }}</small>
                 </div>
+
                 <div class="col-md-4">
-                  <label class="form-label fw-semibold">Năm xây dựng <span class="text-danger">*</span></label>
+                  <label class="form-label fw-semibold d-flex align-items-center gap-2">
+                    <i class="fas fa-calendar-alt text-info"></i>
+                    <span>Năm xây dựng <span class="text-danger">*</span></span>
+                  </label>
                   <input type="text" class="form-control" v-model.trim="form.namXayDung" placeholder="Năm xây dựng">
                   <small v-if="errors.namXayDung" class="text-danger">{{ errors.namXayDung }}</small>
                 </div>
               </div>
+            </section>

-              <div class="mt-4">
-                <div class="table-responsive">
-                  <table class="table table-borderless align-middle">
-                    <thead class="table-light">
-                    <tr>
-                      <th class="text-center" style="width: 30%">Loại phòng</th>
-                      <th class="text-center" style="width: 15%">Số lượng</th>
-                      <th class="text-center" style="width: 20%">Diện tích</th>
-                      <th style="width: 30%">Mô tả</th>
-                      <th class="text-center" style="width: 5%"></th>
-                    </tr>
-                    </thead>
-                    <tbody>
-                    <tr v-for="(room, index) in form.rooms" :key="room.id || index" class="room-row">
-                      <td>
-                        <input
-                            type="text"
-                            list="roomTypeList"
-                            class="form-control form-control-sm"
-                            v-model.trim="room.loaiPhong"
-                            placeholder="Phòng ngủ, phòng khách..."
-                        />
-
-                        <datalist id="roomTypeList">
-                          <option value="Phòng ngủ" />
-                          <option value="Nhà vệ sinh" />
-                          <option value="Phòng khách" />
-                          <option value="Phòng bếp" />
-                          <option value="Phòng ăn" />
-                          <option value="Phòng làm việc" />
-                          <option value="Phòng đọc sách" />
-                          <option value="Phòng thờ" />
-                          <option value="Kho" />
-                          <option value="Sân thượng" />
-                        </datalist>
-                      </td>
-                      <td class="text-center">
-                        <input
-                            type="number"
-                            min="0"
-                            class="form-control form-control-sm w-full"
-                            v-model.number="room.soLuong"
-                            placeholder="Số lượng phòng tương đồng"
-                        />
-                      </td>
-                      <td class="text-center">
-                        <div class="input-group input-group-sm">
-                          <input type="number" min="0" step="0.01" class="form-control form-control-sm w-full" v-model.number="room.dienTich"
-                                 placeholder="Diện tích mỗi phòng">
-                          <span class="input-group-text"><i class="fas fa-ruler-combined"></i></span>
-                        </div>
-                      </td>
-                      <td>
-                        <input type="text" class="form-control form-control-sm" v-model.trim="room.moTa" placeholder="Ghi chú về phòng">
-                      </td>
-                      <td class="text-center pe-4">
-                        <button type="button" class="btn btn-sm btn-outline-danger" @click="removeRoom(index)" :disabled="form.rooms.length === 1">
-                          <i class="fas fa-trash"></i>
-                        </button>
-                      </td>
-                    </tr>
-                    <tr v-if="form.rooms.length === 0">
-                      <td colspan="5" class="text-center py-4 text-muted">
-                        <i class="fas fa-door-closed me-2"></i>Chưa có phòng nào được thêm
-                      </td>
-                    </tr>
-                    </tbody>
-                  </table>
-                  <div v-if="errors.rooms" class="text-danger small mt-2">{{ errors.rooms }}</div>
+            <section class="mb-5">
+              <div class="d-flex align-items-center justify-content-between mb-4 border-bottom pb-3">
+                <div class="d-flex align-items-center">
+                  <div class="section-icon bg-info-light">
+                    <i class="fas fa-door-open text-info"></i>
+                  </div>
+                  <div>
+                    <h2 class="h5 fw-bold mb-1">Danh sách phòng</h2>
+                    <p class="text-muted small mb-0">Quản lý các phòng trong nhà</p>
+                  </div>
                 </div>
-              </div>
-              <div class="mt-4 d-flex align-items-center justify-content-between">
-                <div class="text-sm text-muted">Thêm mới hoặc chỉnh sửa chi tiết phòng để mô tả đầy đủ tài sản.</div>
-                <button type="button" class="btn btn-primary" @click="addRoom">
-                  <i class="fas fa-plus me-2"></i>Thêm phòng
+                <button type="button" class="btn btn-primary btn-sm d-flex align-items-center gap-2" @click="addRoom">
+                  <i class="fas fa-plus"></i><span>Thêm phòng</span>
                 </button>
               </div>
+              <div class="table-responsive">
+                <table class="table table-hover align-middle">
+                  <thead class="table-light">
+                  <tr>
+                    <th class="ps-4" style="width: 25%;">
+                      <i class="fas fa-door-closed me-2 text-primary"></i>
+                      Loại phòng  <span class="text-danger">*</span>
+                    </th>
+
+                    <th class="ps-2" style="width: 20%;">
+                      <i class="fas fa-hashtag me-2 text-info"></i>
+                      Số lượng  <span class="text-danger">*</span>
+                    </th>
+
+                    <th class="ps-2" style="width: 20%;">
+                      <i class="fas fa-expand-alt me-2 text-success"></i>
+                      Diện tích (m²)  <span class="text-danger">*</span>
+                    </th>
+
+                    <th style="width: 35%;">
+                      <i class="fas fa-comment-alt me-2 text-warning"></i>
+                      Mô tả  <span class="text-danger">*</span>
+                    </th>
+
+                    <th class="text-center pe-4" style="width: 60px;">
+                      <i class="fas fa-cog text-muted"></i>
+                    </th>
+                  </tr>
+                  </thead>
+                  <tbody>
+                  <tr v-for="(room, index) in form.rooms" :key="room.id || index" class="room-row">
+                    <td class="ps-4">
+                      <input
+                        type="text"
+                        list="roomTypeList"
+                        class="form-control form-control-sm"
+                        v-model.trim="room.loaiPhong"
+                        placeholder="Phòng ngủ, phòng khách..."
+                      />
+
+                      <datalist id="roomTypeList">
+                        <option value="Phòng ngủ" />
+                        <option value="Nhà vệ sinh" />
+                        <option value="Phòng khách" />
+                        <option value="Phòng bếp" />
+                        <option value="Phòng ăn" />
+                        <option value="Phòng làm việc" />
+                        <option value="Phòng đọc sách" />
+                        <option value="Phòng thờ" />
+                        <option value="Kho" />
+                        <option value="Sân thượng" />
+                      </datalist>
+                    </td>
+                    <td class="text-center">
+                      <input
+                        type="number"
+                        min="0"
+                        class="form-control form-control-sm w-full"
+                        v-model.number="room.soLuong"
+                        placeholder="Số lượng phòng tương đồng"
+                      />
+                    </td>
+                    <td class="text-center">
+                      <div class="input-group input-group-sm">
+                        <input type="number" min="0" step="0.01" class="form-control form-control-sm w-full" v-model.number="room.dienTich"
+                               placeholder="Diện tích mỗi phòng">
+                        <span class="input-group-text"><i class="fas fa-ruler-combined"></i></span>
+                      </div>
+                    </td>
+                    <td>
+                      <input type="text" class="form-control form-control-sm" v-model.trim="room.moTa" placeholder="Ghi chú về phòng">
+                    </td>
+                    <td class="text-center pe-4">
+                      <button type="button" class="btn btn-sm btn-outline-danger" @click="removeRoom(index)" :disabled="form.rooms.length === 1">
+                        <i class="fas fa-trash"></i>
+                      </button>
+                    </td>
+                  </tr>
+                  <tr v-if="form.rooms.length === 0">
+                    <td colspan="5" class="text-center py-4 text-muted">
+                      <i class="fas fa-door-closed me-2"></i>Chưa có phòng nào được thêm
+                    </td>
+                  </tr>
+                  </tbody>
+                </table>
+                <div v-if="errors.rooms" class="text-danger small mt-2">{{ errors.rooms }}</div>
+              </div>
             </section>
           </div>

           <div v-show="activeTab === 'manager'" class="tab-panel">
             <section class="mb-5">
               <div class="d-flex align-items-center mb-4 border-bottom pb-3">
                 <div class="section-icon bg-warning-light">
                   <i class="fas fa-user-shield text-warning"></i>
                 </div>
                 <div>
                   <h2 class="h5 fw-bold mb-1">Thông tin người quản lý</h2>
                   <p class="text-muted small mb-0">Tìm kiếm người quản lý trong hệ thống</p>
                 </div>
               </div>

               <div class="owner-mode-card">
                 <div class="row g-3 align-items-end">
                   <div class="col-md-6">
                     <label class="form-label fw-semibold d-flex align-items-center gap-2">
                       <i class="fas fa-search text-primary"></i>
                       <span>Tìm người quản lý <span class="text-danger">*</span></span>
                     </label>
                     <div class="input-group input-group-md">
                       <span class="input-group-text bg-light"><i class="fas fa-search text-muted"></i></span>
                       <input
@@ -981,50 +1249,51 @@ const form = reactive({
   tongSoPhong: null,
   floorArea: null,
   loaiNha: '',
   noiThat: '',
   hienTrangNha: '',
   namXayDung: '',
   structure: '',
   ownerId: null,
   ownerFullName: '',
   ownerPhone: '',
   ownerMode: 'system',
   ownerOption: 'existing',
   ownerGender: null,
   ownerNewAddress: '',
   ownerOldAddress: '',
   nguoiQuanLyID: null,
   moTaNgan: '',
   rooms: [defaultRoom()],
   hienThongTinChuKhiMoKhoa: true,
   hienLienHeKhiMoKhoa: true,
   lienHeMoKhoa: '',
   nguoiBanId: null,
   nguoiBanTen: '',
   nguoiBanSearch: '',
   giaBanThanhCong: null,
+  ngayBan: '',
   files: [],
   newFiles: [],
   newLandBookFiles: [],
   deletedFileIds: [],
   deletedLandBookFileIds: [],
 })

 const errors = reactive({})
 const ownerSearch = ref('')
 const ownerLookupMessage = ref('')
 const ownerMode = ref('system')
 const managerSearch = ref('')
 const managerLookupMessage = ref('')
 const managerInfo = reactive({
   fullName: '',
   phone: '',
 })
 const nonSystemOwnerOption = ref('existing')
 const nonSystemOwnerSearch = ref('')
 const nonSystemLookupMessage = ref('')
 const nonSystemExistingOwner = ref(null)
 const nonSystemNewOwner = reactive({
   fullName: '',
   phone: '',
   gender: null,
@@ -1126,50 +1395,51 @@ watch(nonSystemOwnerOption, (value) => {
       fullName: '',
       phone: '',
       gender: null,
       newAddress: '',
       oldAddress: '',
     })
   } else {
     form.ownerId = null
   }
 })

 watch(nonSystemNewOwner, (value) => {
   form.ownerFullName = value.fullName || ''
   form.ownerPhone = value.phone || ''
   form.ownerGender = value.gender ?? null
   form.ownerNewAddress = value.newAddress || ''
   form.ownerOldAddress = value.oldAddress || ''
 }, { deep: true })

 watch(() => form.status, (newStatus) => {
   if (newStatus !== 'Đã bán') {
     form.nguoiBanId = null
     form.nguoiBanTen = ''
     form.nguoiBanSearch = ''
     form.giaBanThanhCong = null
+    form.ngayBan = ''
   }
 })

 const addRoom = () => {
   form.rooms.push(defaultRoom())
 }

 const removeRoom = (index) => {
   if (form.rooms.length > 1) form.rooms.splice(index, 1)
 }

 const handleFileUpdate = (files) => {
   form.files = Array.isArray(files) ? files : []

   const existingFiles = form.files.filter(file => !file.file && file.id)
   const newFiles = form.files.filter(file => file.file instanceof File)

   form.newFiles = newFiles
     .filter(f => !f.isIG)
     .map(f => ({ file: f.file, isOnTop: f.isOnTop }))

   form.newLandBookFiles = newFiles
     .filter(f => f.isIG)
     .map(f => ({ file: f.file, isOnTop: f.isOnTop }))

@@ -1204,50 +1474,60 @@ const requireNumberField = (value, key, message, allowZero = false) => {
   const numberValue = Number(value)
   if (value === null || value === undefined || value === '' || Number.isNaN(numberValue) || (!allowZero && numberValue < 0)) {
     errors[key] = message
     return false
   }
   return true
 }

 const formatMoneyVN = (value) => {
   if (value == null || isNaN(value)) return '0'
   const num = Number(value)

   if (num < 1_000_000) {
     return num.toLocaleString('vi-VN') + ' VNĐ'
   }

   if (num < 1_000_000_000) {
     const trieu = num / 1_000_000
     return `${trieu.toFixed(trieu % 1 === 0 ? 0 : 1)} triệu`
   }

   const ty = num / 1_000_000_000
   return `${ty.toFixed(ty % 1 === 0 ? 0 : 2)} tỷ`
 }

+const formatDateForInput = (value) => {
+  if (!value) return ''
+  if (typeof value === 'string' && /^\d{4}-\d{2}-\d{2}$/.test(value)) {
+    return value
+  }
+  const parsed = new Date(value)
+  if (Number.isNaN(parsed.getTime())) return ''
+  return parsed.toISOString().slice(0, 10)
+}
+
 const clearErrors = (fields) => {
   fields.forEach((field) => {
     if (errors[field]) {
       delete errors[field]
     }
   })
 }

 const validateOwnerSection = () => {
   let valid = true

   if (ownerMode.value === 'system') {
     if (!ownerSearch.value) {
       errors.ownerSearch = 'Nhập phone hoặc email để tìm kiếm'
       valid = false
     } else if (!form.ownerId) {
       errors.ownerSearch = 'Chưa tìm thấy chủ tài sản'
       valid = false
     }
   } else if (nonSystemOwnerOption.value === 'existing') {
     if (!nonSystemOwnerSearch.value) {
       errors.nonSystemOwnerSearch = 'Nhập số điện thoại để tìm kiếm'
       valid = false
     } else if (!nonSystemExistingOwner.value) {
       errors.nonSystemOwnerSearch = 'Chưa chọn được chủ đã có'
@@ -1311,74 +1591,79 @@ const validateTab = (tabId) => {
       if (parts.length < 3 || parts.some(p => !p || !p.trim())) {
         errors.address = 'Vui lòng nhập đầy đủ địa chỉ'
         isValid = false
       }
     }
     track(requireTextField(form.landPosition, 'landPosition', 'Nhập vị trí đất'))
   }

   if (tabId === 'legal') {
     clearErrors([
       'plotNumber',
       'parcelNumber',
       'totalArea',
       'ownershipRelation',
       'landUseRight',
       'status',
       'matTienNha',
       'chieuNgang',
       'chieuDai',
       'hienTrangDat',
       'doRongDuong',
       'loGioi',
       'structure',
       'nguoiBanSearch',
       'giaBanThanhCong',
+      'ngayBan',
     ])
     track(requireTextField(form.plotNumber, 'plotNumber', 'Nhập số thửa'))
     track(requireTextField(form.parcelNumber, 'parcelNumber', 'Nhập số tờ'))
     track(requireNumberField(form.totalArea, 'totalArea', 'Nhập tổng diện tích hợp lệ'))
     track(requireTextField(form.ownershipRelation, 'ownershipRelation', 'Nhập quan hệ sở hữu'))
     track(requireTextField(form.landUseRight, 'landUseRight', 'Nhập quyền sử dụng đất'))
     track(requireTextField(form.status, 'status', 'Chọn tình trạng'))
     track(requireNumberField(form.matTienNha, 'matTienNha', 'Nhập mặt tiền hợp lệ'))
     track(requireNumberField(form.chieuNgang, 'chieuNgang', 'Nhập chiều ngang hợp lệ'))
     track(requireNumberField(form.chieuDai, 'chieuDai', 'Nhập chiều dài hợp lệ'))
     track(requireTextField(form.hienTrangDat, 'hienTrangDat', 'Nhập hiện trạng đất'))
     track(requireNumberField(form.doRongDuong, 'doRongDuong', 'Nhập độ rộng đường hợp lệ'))
     track(requireNumberField(form.loGioi, 'loGioi', 'Nhập lộ giới hợp lệ'))
     track(requireTextField(form.structure, 'structure', 'Nhập mô tả hình dạng/kết cấu'))

     if (isSold.value) {
       if (!form.nguoiBanId) {
         errors.nguoiBanSearch = 'Bắt buộc chọn người bán'
         isValid = false
       }
       if (!form.giaBanThanhCong || form.giaBanThanhCong <= 0) {
         errors.giaBanThanhCong = 'Nhập giá bán thành công'
         isValid = false
       }
+      if (!form.ngayBan) {
+        errors.ngayBan = 'Nhập ngày bán'
+        isValid = false
+      }
     }
   }

   if (tabId === 'house' && isHouse.value) {
     clearErrors([
       'floorArea',
       'loaiNha',
       'tongSoPhong',
       'soPhongNgu',
       'soPhongTam',
       'soTang',
       'noiThat',
       'hienTrangNha',
       'namXayDung',
       'rooms',
       'soLau',
     ])
     track(requireNumberField(form.floorArea, 'floorArea', 'Nhập diện tích sàn hợp lệ'))
     track(requireTextField(form.loaiNha, 'loaiNha', 'Nhập loại nhà'))
     track(requireNumberField(form.tongSoPhong, 'tongSoPhong', 'Nhập tổng số phòng'))
     track(requireNumberField(form.soPhongNgu, 'soPhongNgu', 'Nhập số phòng ngủ'))
     track(requireNumberField(form.soPhongTam, 'soPhongTam', 'Nhập số phòng tắm'))
     track(requireNumberField(form.soTang, 'soTang', 'Nhập số tầng'))
     track(requireTextField(form.noiThat, 'noiThat', 'Nhập thông tin nội thất'))
     track(requireTextField(form.hienTrangNha, 'hienTrangNha', 'Nhập hiện trạng nhà'))
@@ -1432,50 +1717,51 @@ const goToPrevTab = () => {
   const currentIndex = tabOrder.value.indexOf(activeTab.value)
   const prevTab = tabOrder.value[currentIndex - 1]
   if (!prevTab) return
   activeTab.value = prevTab
 }

 const tabFieldMap = {
   basic: ['loaiTaiSan', 'phanLoaiHang', 'donViSoHuu', 'giaBan', 'giaNoiBo', 'desire', 'phiMoiGioi'],
   address: ['address', 'landPosition', 'oldAddress'],
   legal: [
     'plotNumber',
     'parcelNumber',
     'totalArea',
     'ownershipRelation',
     'landUseRight',
     'status',
     'matTienNha',
     'chieuNgang',
     'chieuDai',
     'hienTrangDat',
     'doRongDuong',
     'loGioi',
     'structure',
     'nguoiBanSearch',
     'giaBanThanhCong',
+    'ngayBan',
   ],
   house: [
     'floorArea',
     'loaiNha',
     'tongSoPhong',
     'soPhongNgu',
     'soPhongTam',
     'soTang',
     'noiThat',
     'hienTrangNha',
     'namXayDung',
     'rooms',
     'soLau',
   ],
   manager: ['managerSearch'],
   owner: [
     'ownerSearch',
     'nonSystemOwnerSearch',
     'ownerFullName',
     'ownerPhone',
     'ownerNewAddress',
     'lienHeMoKhoa',
     'moTaNgan',
     'files',
     'mainImage',
@@ -1526,50 +1812,55 @@ const validateForm = () => {
   track(requireNumberField(form.chieuDai, 'chieuDai', 'Nhập chiều dài hợp lệ'))
   track(requireTextField(form.hienTrangDat, 'hienTrangDat', 'Nhập hiện trạng đất'))
   track(requireNumberField(form.doRongDuong, 'doRongDuong', 'Nhập độ rộng đường hợp lệ'))
   track(requireNumberField(form.loGioi, 'loGioi', 'Nhập lộ giới hợp lệ'))
   track(requireTextField(form.structure, 'structure', 'Nhập mô tả hình dạng/kết cấu'))
   track(requireNumberField(form.phiMoiGioi, 'phiMoiGioi', 'Nhập phí môi giới', true))

   if (!validateOwnerSection()) {
     isValid = false
   }

   if (!validateManagerSection()) {
     isValid = false
   }

   if (isSold.value) {
     if (!form.nguoiBanId) {
       errors.nguoiBanSearch = 'Bắt buộc chọn người bán'
       isValid = false
     }

     if (!form.giaBanThanhCong || form.giaBanThanhCong <= 0) {
       errors.giaBanThanhCong = 'Nhập giá bán thành công'
       isValid = false
     }
+
+    if (!form.ngayBan) {
+      errors.ngayBan = 'Nhập ngày bán'
+      isValid = false
+    }
   }

   if (isHouse.value) {
     track(requireNumberField(form.floorArea, 'floorArea', 'Nhập diện tích sàn hợp lệ'))
     track(requireTextField(form.loaiNha, 'loaiNha', 'Nhập loại nhà'))
     track(requireNumberField(form.tongSoPhong, 'tongSoPhong', 'Nhập tổng số phòng'))
     track(requireNumberField(form.soPhongNgu, 'soPhongNgu', 'Nhập số phòng ngủ'))
     track(requireNumberField(form.soPhongTam, 'soPhongTam', 'Nhập số phòng tắm'))
     track(requireNumberField(form.soTang, 'soTang', 'Nhập số tầng'))
     track(requireTextField(form.noiThat, 'noiThat', 'Nhập thông tin nội thất'))
     track(requireTextField(form.hienTrangNha, 'hienTrangNha', 'Nhập hiện trạng nhà'))
     track(requireTextField(form.namXayDung, 'namXayDung', 'Nhập năm xây dựng'))

     const hasRooms = form.rooms.length > 0
     const invalidRoom = form.rooms.some((room) => {
       const hasLoaiPhong = normalizeText(room.loaiPhong)
       const hasSoLuong = typeof room.soLuong === 'number' && room.soLuong > 0
       const hasDienTich = typeof room.dienTich === 'number' && room.dienTich > 0
       const hasMoTa = normalizeText(room.moTa)
       return !(hasLoaiPhong && hasSoLuong && hasDienTich && hasMoTa)
     })

     if (form.soLau == null) {
       errors.soLau = 'Nhập số lầu'
     }
@@ -1588,272 +1879,306 @@ const validateForm = () => {
     isValid = false
   }

   const hasMainImage = form.files.some((file) => file && file.isOnTop && isImageFile(file.fileName))
   if (!hasMainImage) {
     errors.mainImage = 'Vui lòng chọn 1 ảnh chính'
     isValid = false
   }

   if (!form.moTaNgan || form.moTaNgan.trim().length < 100) {
     errors.moTaNgan = 'Mô tả ngắn tối thiểu 100 ký tự'
     isValid = false
   }

   return isValid
 }

 const isValidVietnamPhone = (phone) => {
   if (!phone) return false

   const cleaned = phone.replace(/\s+/g, '')

   return /^(0|\+84)[3|5|7|8|9]\d{8}$/.test(cleaned)
 }

-const handleOwnerLookup = async () => {
-  ownerLookupMessage.value = ''
+const handleOwnerLookup = async ({ silent = false } = {}) => {
+  if (!silent) {
+    ownerLookupMessage.value = ''
+  }
   if (!isSystemOwnerMode.value) return
   if (!ownerSearch.value) {
-    errors.ownerSearch = 'Nhập phone hoặc email để tìm kiếm'
+    if (!silent) {
+      errors.ownerSearch = 'Nhập phone hoặc email để tìm kiếm'
+    }
     return
   }
   errors.ownerSearch = ''

   try {
     const { data } = await api.get('/admin.thg/product/admin/tim-chu-tai-san', {
       params: {
         search: ownerSearch.value,
         phanLoaiHang: form.phanLoaiHang,
       },
     })

     if (data) {
       form.ownerId = data.id
       form.ownerFullName = data.fullName
       form.ownerPhone = data.phone
       form.ownerGender = data.gender ?? null
       form.ownerNewAddress = data.newAddress || ''
       form.ownerOldAddress = data.oldAddress || ''

       // 🔴 CHỐT: chỉ show message khi KHÔNG hydrate
-      if (!isHydrating.value) {
+      if (!silent && !isHydrating.value) {
         ownerLookupMessage.value = 'Tìm thấy chủ tài sản thành công'
       }
     } else {
       form.ownerId = null
       form.ownerFullName = ''
       form.ownerPhone = ''
       if (!isHydrating.value) {
         ownerLookupMessage.value = 'Không tìm thấy chủ tài sản với thông tin đã nhập'
       }
     }
   } catch (e) {
     if (!isHydrating.value) {
       ownerLookupMessage.value = 'Lỗi khi tìm kiếm chủ tài sản'
     }
   }
 }

-const handleManagerLookup = async () => {
-  managerLookupMessage.value = ''
+const handleManagerLookup = async ({ silent = false } = {}) => {
+  if (!silent) {
+    managerLookupMessage.value = ''
+  }
   if (!managerSearch.value) {
-    errors.managerSearch = 'Nhập phone hoặc email để tìm kiếm'
+    if (!silent) {
+      errors.managerSearch = 'Nhập phone hoặc email để tìm kiếm'
+    }
     return
   }
   errors.managerSearch = ''

   try {
     const { data } = await api.get('/admin.thg/product/admin/tim-chu-tai-san', {
       params: {
         search: managerSearch.value,
         phanLoaiHang: form.phanLoaiHang,
       },
     })

     if (data) {
       form.nguoiQuanLyID = data.id
       managerInfo.fullName = data.fullName
       managerInfo.phone = data.phone

-      if (!isHydrating.value) {
+      if (!silent && !isHydrating.value) {
         managerLookupMessage.value = 'Tìm thấy người quản lý thành công'
       }
     } else {
       form.nguoiQuanLyID = null
       managerInfo.fullName = ''
       managerInfo.phone = ''
       if (!isHydrating.value) {
         managerLookupMessage.value = 'Không tìm thấy người quản lý với thông tin đã nhập'
       }
     }
   } catch (e) {
     if (!isHydrating.value) {
       managerLookupMessage.value = 'Lỗi khi tìm kiếm người quản lý'
     }
   }
 }

-const handleNonSystemOwnerLookup = async () => {
-  nonSystemLookupMessage.value = ''
+const handleNonSystemOwnerLookup = async ({ silent = false } = {}) => {
+  if (!silent) {
+    nonSystemLookupMessage.value = ''
+  }
   nonSystemExistingOwner.value = null
   const phone = nonSystemOwnerSearch.value.trim()
   if (!phone) {
-    errors.nonSystemOwnerSearch = 'Nhập số điện thoại để tìm kiếm'
+    if (!silent) {
+      errors.nonSystemOwnerSearch = 'Nhập số điện thoại để tìm kiếm'
+    }
     return
   }
   if (!/^[0-9]{9,11}$/.test(phone.replace(/\s+/g, ''))) {
-    errors.nonSystemOwnerSearch = 'Số điện thoại không hợp lệ'
+    if (!silent) {
+      errors.nonSystemOwnerSearch = 'Số điện thoại không hợp lệ'
+    }
     return
   }
   errors.nonSystemOwnerSearch = ''
   try {
     const { data } = await api.get('/thg.user/my-land/tim-chu-nha-tam', {
       params: { phone },
     })
     if (data && data.id) {
       nonSystemExistingOwner.value = data
       form.ownerId = data.id
       form.ownerFullName = data.fullName || ''
       form.ownerPhone = data.phone || ''
       form.ownerGender = data.gender ?? null
       form.ownerNewAddress = data.newAddress || ''
       form.ownerOldAddress = data.oldAddress || ''
-      nonSystemLookupMessage.value = 'Tìm thấy chủ tài sản thành công'
+      if (!silent) {
+        nonSystemLookupMessage.value = 'Tìm thấy chủ tài sản thành công'
+      }
     } else {
       form.ownerId = null
       form.ownerFullName = ''
       form.ownerPhone = ''
       nonSystemLookupMessage.value = 'Không tìm thấy chủ tài sản'
     }
   } catch (e) {
     nonSystemLookupMessage.value = 'Lỗi khi tìm kiếm chủ tài sản'
   }
 }

-const handleNguoiBanLookup = async () => {
+const handleNguoiBanLookup = async ({ silent = false } = {}) => {
   if (!form.nguoiBanSearch) {
-    errors.nguoiBanSearch = 'Nhập email hoặc số điện thoại'
+    if (!silent) {
+      errors.nguoiBanSearch = 'Nhập email hoặc số điện thoại'
+    }
     return
   }

   errors.nguoiBanSearch = ''

   try {
     const { data } = await api.get(
       '/admin.thg/product/admin/tim-nguoi',
       {
         params: { search: form.nguoiBanSearch }
       }
     )

     if (data) {
       form.nguoiBanId = data.id
       form.nguoiBanTen = data.fullName || data.name
     } else {
       form.nguoiBanId = null
       form.nguoiBanTen = ''
       errors.nguoiBanSearch = 'Không tìm thấy người bán'
     }
   } catch (e) {
     errors.nguoiBanSearch = 'Lỗi tìm người bán'
   }
 }

 const hydrateForm = (data) => {
   isHydrating.value = true
+  const sellerSearch =
+    data.nguoiBanEmail ||
+    data.emailNguoiBan ||
+    data.nguoiBanSearch ||
+    data.sellerEmail ||
+    ''
   Object.assign(form, {
     ...data,
     ownerFullName: data.ownerFullName || data.ownerName || '',
     ownerPhone: data.ownerPhone || '',
     ownerMode: data.ownerMode || 'system',
     ownerOption: data.ownerOption || 'existing',
     ownerGender: data.ownerGender ?? null,
     ownerNewAddress: data.ownerNewAddress || '',
     ownerOldAddress: data.ownerOldAddress || '',
     moTaNgan: data.moTaNgan || '',
     rooms: data.rooms && data.rooms.length ? data.rooms : [defaultRoom()],
+    nguoiBanSearch: sellerSearch || data.nguoiBanSearch || '',
+    ngayBan: formatDateForInput(data.ngayBan),
     files: data.files || [],
     newFiles: [],
     newLandBookFiles: [],
     deletedFileIds: [],
     deletedLandBookFileIds: [],
   })
   ownerMode.value = form.ownerMode
   nonSystemOwnerOption.value = form.ownerOption
   ownerSearch.value = ''
   ownerLookupMessage.value = ''
   nonSystemOwnerSearch.value = ''
   nonSystemLookupMessage.value = ''
   managerSearch.value = ''
   managerLookupMessage.value = ''
   managerInfo.fullName = ''
   managerInfo.phone = ''
   Object.assign(nonSystemNewOwner, {
     fullName: form.ownerFullName,
     phone: form.ownerPhone,
     gender: form.ownerGender ?? null,
     newAddress: form.ownerNewAddress || '',
     oldAddress: form.ownerOldAddress || '',
   })
   originalFiles.value = JSON.parse(JSON.stringify(form.files || []))
   addressKey.value += 1
   isHydrating.value = false
 }

 const prefillOwnerAndManager = async () => {
   const ownerPhone = (form.ownerPhone || '').trim()
   if (ownerPhone) {
     if (form.ownerMode === 'system') {
       ownerSearch.value = ownerPhone
-      await handleOwnerLookup()
+      await handleOwnerLookup({ silent: true })
     } else if (form.ownerMode === 'nonSystem' && form.ownerOption === 'existing') {
       nonSystemOwnerSearch.value = ownerPhone
-      await handleNonSystemOwnerLookup()
+      await handleNonSystemOwnerLookup({ silent: true })
     }
   }

   const managerPhone = (
     form.nguoiQuanLyPhone ||
     form.nguoiQuanLySdt ||
     form.managerPhone ||
     form.managerPhoneNumber ||
     ''
   ).toString().trim()

   if (managerPhone) {
     managerSearch.value = managerPhone
-    await handleManagerLookup()
+    await handleManagerLookup({ silent: true })
   }
 }

+const prefillSeller = async () => {
+  if (form.status !== 'Đã bán') return
+  const sellerSearch = (form.nguoiBanSearch || '').trim()
+  if (!sellerSearch) return
+  await handleNguoiBanLookup({ silent: true })
+}
+
 const loadAssetDetail = async () => {
   try {
     const res = await api.get(`/admin.thg/product/admin/chi-tiet/${assetId}`)
     asset.value = res.data
     hydrateForm(asset.value)
     await prefillOwnerAndManager()
+    await prefillSeller()
   } catch (error) {
     updateAlertError('Không thể tải dữ liệu tài sản!')
   }
 }

 const resetForm = () => {
   if (confirm('Bạn có chắc muốn đặt lại tất cả thay đổi?')) {
     if (asset.value) {
       hydrateForm(asset.value)
       prefillOwnerAndManager()
     }
     activeTab.value = 'basic'
     Object.keys(errors).forEach((k) => (errors[k] = ''))
   }
 }

 const buildFormData = () => {
   const dto = {
     ...form,
     address: form.address,
     khuVucMa: form.address.split('/!!')[2],
     rooms: isHouse.value ? form.rooms : [],
     newFiles: undefined,
     newLandBookFiles: undefined,
   }
