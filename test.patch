diff --git a/src/components/user/NewUser/QuickSale30D/QuickSale30D.vue b/src/components/user/NewUser/QuickSale30D/QuickSale30D.vue
index 857bb555ee675ac75fe81464885147396644ac39..50c6260d9195eb0b3fcd30888ae4112f52b60187 100644
--- a/src/components/user/NewUser/QuickSale30D/QuickSale30D.vue
+++ b/src/components/user/NewUser/QuickSale30D/QuickSale30D.vue
@@ -263,50 +263,68 @@
                 </div>

                 <div>
                   <label class="block text-sm font-medium text-slate-300 mb-1.5">Diện tích sàn (m²)</label>
                   <input type="number" step="0.1" v-model="searchForm.dienTichSan"
                          class="w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
                       text-sm text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"
                          :placeholder="searchFormPlaceholders.dienTichSan">
                 </div>
               </div>

               <!-- Quyền sử dụng đất -->
               <div>
                 <label class="block text-sm font-medium text-slate-300 mb-1.5">Quyền sử dụng đất <span class="text-rose-500">*</span></label>
                 <select required v-model="searchForm.quyenSuDungDat"
                         class="w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
                  text-sm text-slate-50 focus:outline-none focus:ring-2 focus:ring-purple-500/50
                  appearance-none">
                   <option value="" disabled selected class="text-slate-500">Chọn loại quyền sử dụng</option>
                   <option v-for="option in landUseOptions" :key="option.value" :value="option.value" class="text-white bg-slate-900">
                     {{ option.label }}
                   </option>
                 </select>
               </div>

+              <!-- Quan hệ sở hữu -->
+              <div>
+                <label class="block text-sm font-medium text-slate-300 mb-1.5">Quan hệ sở hữu <span class="text-rose-500">*</span></label>
+                <select required v-model="ownershipChoice"
+                        class="w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
+                 text-sm text-slate-50 focus:outline-none focus:ring-2 focus:ring-purple-500/50
+                 appearance-none">
+                  <option value="" disabled selected class="text-slate-500">Chọn quan hệ sở hữu</option>
+                  <option v-for="option in ownershipOptions" :key="option" :value="option" class="text-white bg-slate-900">
+                    {{ option }}
+                  </option>
+                </select>
+                <input v-if="ownershipChoice === 'Khác'" type="text" required v-model="searchForm.ownershipRelation"
+                       class="mt-3 w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
+                    text-sm text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"
+                       placeholder="Nhập quan hệ sở hữu khác...">
+              </div>
+
               <!-- Kết cấu -->
               <div>
                 <label class="block text-sm font-medium text-slate-300 mb-1.5">Kết cấu công trình</label>
                 <input type="text" v-model="searchForm.ketCauCongTrinh"
                        class="w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
                     text-sm text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"
                        :placeholder="searchFormPlaceholders.ketCauCongTrinh">
               </div>

               <!-- Giá mong muốn bán -->
               <div>
                 <label class="block text-sm font-medium text-slate-300 mb-1.5">Giá mong muốn bán (tỷ VNĐ) <span class="text-rose-500">*</span></label>
                 <div class="relative">
                   <input type="number" step="0.1" required v-model="searchForm.giaMongMuon"
                          class="w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3
                       text-sm text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"
                          :placeholder="searchFormPlaceholders.giaMongMuon">
                   <div class="absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 text-sm">
                     tỷ VNĐ
                   </div>
                 </div>
                 <p class="text-xs text-slate-500 mt-1">{{ priceHint }}</p>
               </div>

               <!-- Nút submit -->
@@ -674,51 +692,51 @@
                 <button type="submit"
                         class="btn-gradient flex-1 inline-flex items-center justify-center px-5 py-3 rounded-lg md:rounded-xl text-sm font-semibold
                            transition order-2 sm:order-1">
                   {{ config.buttons.submit.text }}
                 </button>
                 <button v-if="authStore.userInfo==null" @click="openLoginModal" type="button"
                         class="inline-flex items-center justify-center px-5 py-3 rounded-lg md:rounded-xl text-sm font-semibold
                       bg-blue-400/10 text-white border border-white/10
                       hover:bg-white/15 hover:border-white/20 transition order-1 sm:order-2">
                   Đăng nhập ngay
                 </button>
               </div>

               <p class="text-xs text-slate-500 leading-relaxed text-center lg:text-left">
                 {{ contactPrivacyNotice }}
               </p>
             </form>
           </div>
         </div>
       </div>
     </section>
   </div>
 </template>

 <script setup>
-import { computed, onMounted, reactive, ref, onUnmounted, nextTick } from "vue";
+import { computed, onMounted, reactive, ref, onUnmounted, nextTick, watch } from "vue";
 import GlassCard from "../../UI/GlassCard.vue";
 import TestimonialCard from "../../UI/TestimonialCard.vue";
 import SoldProjectCard from "../../UI/SoldProjectCard.vue";
 import { useAuthStore } from "../../../../stores/authStore.js";
 import addressData from "../../../../assets/js/address.json";
 import Fuse from "fuse.js";
 import api from "../../../../api/api.js";
 import { buildSeoUrl } from "../../../../assets/js/global.js";
 import Swal from 'sweetalert2';

 // ========== SOLD PROJECTS - Lấy từ API ==========
 const soldProjects = ref([]);
 const loadingSoldProjects = ref(false);
 const loadingMoreProjects = ref(false);
 const soldProjectsPage = ref(0);
 const soldProjectsTotalPages = ref(0);
 const soldProjectsContainer = ref(null);
 const hasMoreSoldProjects = ref(true);

 // Hàm format địa chỉ: chỉ lấy Thành phố/Tỉnh, giới hạn 40 ký tự
 const formatLocation = (address) => {
   if (!address) return '';

   const parts = address.split('/!!');

@@ -840,50 +858,51 @@ const handleSoldProjectsScroll = () => {
       scrolled: (scrollLeft / scrollableDistance) * 100 + '%'
     });
     loadMoreSoldProjects();
   }
 };

 // Hàm load thêm dự án - THÊM DEBOUNCE
 const loadMoreSoldProjects = async () => {
   if (loadingMoreProjects.value || !hasMoreSoldProjects.value) return;

   console.log('Loading more projects, page:', soldProjectsPage.value + 1);

   const nextPage = soldProjectsPage.value + 1;
   await fetchSoldProjects(nextPage, true);
 };

 // Hàm refresh danh sách dự án
 const refreshSoldProjects = () => {
   soldProjectsPage.value = 0;
   fetchSoldProjects(0, false);
 };

 // Data từ address.json
 const provinces = ref([]);
 const selectedProvince = ref(null);
+const ownershipChoice = ref('');

 // Fuse.js instances
 let provinceFuse = null;
 let wardFuse = null;

 // State cho search và dropdown
 const provinceSearch = ref(''); // Biến riêng cho search tỉnh
 const wardSearch = ref(''); // Biến riêng cho search phường
 const showProvinceDropdown = ref(false);
 const showWardDropdown = ref(false);
 const filteredProvinces = ref([]);
 const filteredWards = ref([]);

 // Khởi tạo dữ liệu địa chỉ
 const initializeAddressData = () => {
   provinces.value = addressData.map(province => ({
     name: province.name,
     code: province.code,
     codename: province.codename,
     phone_code: province.phone_code,
     wards: province.wards || []
   }));

   // Khởi tạo Fuse.js cho tỉnh
   provinceFuse = new Fuse(provinces.value, {
@@ -971,57 +990,60 @@ const authStore = useAuthStore();
 const openLoginModal = () => {
   authStore.openLoginModal()
 }

 // ========== FORM CONFIG (SET CỨNG) ==========
 const searchFormTitle = 'Tra cứu thời gian bán trên chính sản phẩm của bạn';
 const searchFormDescription = 'Nhập thông tin nhà phố của bạn - hệ thống AI của chúng tôi sẽ dự đoán chính xác thời gian bán và giá đề xuất trong vòng 30 ngày.';

 const searchFormPlaceholders = {
   hoTen: 'Nguyễn Văn A',
   soDienThoai: '0912 345 678',
   email: 'example@gmail.com',
   tinhThanh: 'Chọn tỉnh/thành phố',
   quanHuyen: 'VD: Quận 2, Quận 7, Bình Thạnh...',
   diaChiChiTiet: 'VD: Số 123, đường Nguyễn Văn Linh, Phường Tân Phong',
   soTo: 'VD: 123',
   soThua: 'VD: 456',
   dienTichDat: 'VD: 100',
   dienTichSan: 'VD: 350',
   quyenSuDungDat: 'Chọn loại quyền sử dụng',
   ketCauCongTrinh: 'VD: Nhà 4 tầng, 1 hầm, 5 phòng ngủ, 2 WC, nội thất cao cấp',
   giaMongMuon: 'VD: 15.5'
 };

 const landUseOptions = [
-  { value: 'SO_DO', label: 'Sổ đỏ (Sở hữu lâu dài)' },
-  { value: 'SO_HONG', label: 'Sổ hồng (Nhà nước cho thuê đất)' },
-  { value: 'HOP_DONG_THUE_DAT', label: 'Hợp đồng thuê đất' },
-  { value: 'CHUA_CO_SO', label: 'Chưa có sổ' },
-  { value: 'GIAY_TO_KHAC', label: 'Giấy tờ khác' }
+  { value: 'Sổ đỏ lâu dài', label: 'Sổ đỏ lâu dài' },
+  { value: 'Sổ hồng', label: 'Sổ hồng' },
+  { value: 'Sổ đỏ 50 năm', label: 'Sổ đỏ 50 năm' },
+  { value: 'Đang chờ cấp sổ', label: 'Đang chờ cấp sổ' },
+  { value: 'Giấy tờ khác', label: 'Giấy tờ khác' },
+  { value: 'Khác', label: 'Khác' }
 ];

+const ownershipOptions = ['Sở hữu riêng', 'Sở hữu chung', 'Đồng sở hữu', 'Khác'];
+
 const priceHint = 'Nhập giá bạn mong muốn bán (đơn vị: tỷ đồng)';

 // ========== SEARCH RESULT CONFIG (SET CỨNG) ==========
 const searchResultTitle = 'Kết quả dự đoán';
 const searchResultSubtitle = 'Dựa trên phân tích AI và dữ liệu thị trường thực tế';

 const searchResultAreaInfo = {
   title: 'Thông tin khu vực',
   province: 'Tỉnh/Thành phố:',
   district: 'Quận/Huyện:',
   highDemand: '✓ Khu vực này có nhu cầu mua cao trong 3 tháng gần đây'
 };

 const searchResultEstimatedTime = {
   title: 'Thời gian bán dự kiến',
   subtitle: 'Dưới mục tiêu 30 ngày'
 };

 const searchResultSuggestedPrice = {
   title: 'Giá đề xuất tối ưu',
   subtitle: 'Giá thị trường chấp nhận: {min} - {max} tỷ',
   compare: 'So với giá mong muốn',
   average: 'Giá trung bình khu vực'
 };

@@ -1354,95 +1376,105 @@ const config = ref({
         id: 3,
         name: 'Lê Thị Hương',
         position: 'Chủ nhà phố, Thủ Đức',
         quote: 'Dashboard theo dõi tiến độ real-time giúp tôi yên tâm. Mọi thứ minh bạch, hỗ trợ pháp lý rất tận tình. Cảm ơn Thiên Hà Group!',
         initials: 'LT',
         color: 'emerald',
         rating: 5
       }
     ]
   }
 });

 // Reactive data cho form tra cứu
 const searchForm = reactive({
   hoTen: '',
   soDienThoai: '',
   email: '',
   tinhThanh: '',
   quanHuyen: '',
   diaChiChiTiet: '',
   soTo: '',
   soThua: '',
   dienTichDat: '',
   dienTichSan: '',
   quyenSuDungDat: '',
+  ownershipRelation: '',
   ketCauCongTrinh: '',
   giaMongMuon: ''
 });

 // Reactive data cho kết quả
 const searchResult = reactive({
   show: false,
   tinhThanh: '',
   quanHuyen: '',
   ngayBan: 0,
   giaDeXuat: 0,
   chenhLech: 0,
   phanTram: 0,
   minPrice: 0, // Thêm trường min
   maxPrice: 0  // Thêm trường max
 });
 //Dữ liệu gửi về BE
 const PropertySaleDTO = reactive({
   fullName: '',
   phone: '',
   email: '',
   province: '',
   ward: '',
   addressDetail: '',
-  soTo: 0,
-  soThua: 0,
+  soTo: '',
+  soThua: '',
   dienTichDat: 0,
   dienTichSan: 0,
   ketCauCongTrinh: '',

   landUseRight: '',
+  ownershipRelation: '',
   expectedPrice: 0,

   estimatedSaleTimeDays: 0,
   suggestedPrice: 0,
   priceChangePercent: 0,
   areaAveragePrice: 0,
   acceptedPriceMin: 0,
   acceptedPriceMax: 0,
   saleSuccessRate: 0,
 })

 // ========== COMPUTED PROPERTIES ==========
 const isLoggedIn = computed(() => authStore.userInfo != null);

+watch(ownershipChoice, (val) => {
+  if (val && val !== 'Khác') {
+    searchForm.ownershipRelation = val;
+  } else {
+    searchForm.ownershipRelation = '';
+  }
+});
+
 // Computed properties cho hiển thị giá
 const displayedGiaDeXuat = computed(() => {
   if (isLoggedIn.value) {
     return `${searchResult.giaDeXuat} tỷ VNĐ`;
   }
   return '*******';
 });

 const displayedChenhLech = computed(() => {
   if (isLoggedIn.value) {
     return chenhLechText.value;
   }
   return '******';
 });

 const displayedAveragePrice = computed(() => {
   if (isLoggedIn.value) {
     return `${(searchResult.giaDeXuat * 0.96).toFixed(1)} tỷ`;
   }
   return '******';
 });

 const displayedPriceRange = computed(() => {
   if (isLoggedIn.value) {
     return `Giá thị trường chấp nhận: ${searchResult.minPrice} - ${searchResult.maxPrice} tỷ`;
@@ -1724,80 +1756,84 @@ const calculateAndShowResult = async () => {
     timer: 2000
   });

   // Scroll đến kết quả
   setTimeout(() => {
     const resultEl = document.getElementById('ket-qua-du-doan');
     if (resultEl) {
       resultEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
     }
   }, 100);
 };

 // Hàm xử lý submit form - đã thêm tính toán min-max và kiểm tra localStorage
 // Hàm xử lý submit form - đã thêm tính toán min-max và kiểm tra localStorage
 const handleSearchSubmit = async (e) => {
   e.preventDefault();

   // Kiểm tra các trường bắt buộc
   const requiredFields = [
     'hoTen',
     'soDienThoai',
     'email',
     'tinhThanh',
     'quanHuyen',
     'dienTichDat',
-    'giaMongMuon'
+    'giaMongMuon',
+    'quyenSuDungDat',
+    'ownershipRelation'
   ];

   // Kiểm tra xem các trường bắt buộc có được điền không
   const missingFields = requiredFields.filter(field => {
     const value = searchForm[field];

     // Kiểm tra các trường string
     if (field === 'hoTen' || field === 'soDienThoai' || field === 'email' ||
         field === 'tinhThanh' || field === 'quanHuyen') {
       return !value || String(value).trim() === '';
     }

     // Kiểm tra các trường số
     if (field === 'dienTichDat' || field === 'giaMongMuon') {
       return !value && value !== 0;
     }

     return !value;
   });

   if (missingFields.length > 0) {
     const fieldLabels = {
       'hoTen': 'Họ tên',
       'soDienThoai': 'Số điện thoại',
       'email': 'Email',
       'tinhThanh': 'Tỉnh/Thành phố',
       'quanHuyen': 'Quận/Huyện',
       'dienTichDat': 'Diện tích đất',
-      'giaMongMuon': 'Giá mong muốn'
+      'giaMongMuon': 'Giá mong muốn',
+      'quyenSuDungDat': 'Quyền sử dụng đất',
+      'ownershipRelation': 'Quan hệ sở hữu'
     };

     const missingFieldNames = missingFields.map(field => fieldLabels[field] || field).join(', ');

     Swal.fire({
       title: 'Thiếu thông tin',
       html: `<div class="text-slate-300 text-sm">
               <p class="mb-2">Vui lòng điền đầy đủ các trường bắt buộc:</p>
               <p class="text-amber-300 font-medium">${missingFieldNames}</p>
             </div>`,
       icon: 'warning',
       background: '#0f172a',
       color: '#e2e8f0',
       confirmButtonText: 'OK',
       customClass: {
         popup: 'rounded-2xl border border-white/10',
         confirmButton: 'btn-gradient !rounded-xl !px-6 !py-2.5 !text-sm !font-semibold'
       },
       buttonsStyling: false
     });
     return;
   }

   // Kiểm tra định dạng email
   const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
@@ -1852,56 +1888,57 @@ const handleSearchSubmit = async (e) => {
     else heSoKhuVuc = 0.95;

     const giaMongMuon = parseFloat(searchForm.giaMongMuon) || 15;
     const giaDeXuat = parseFloat((giaMongMuon * heSoKhuVuc).toFixed(1));
     const minPrice = parseFloat((giaDeXuat * 0.92).toFixed(1));
     const maxPrice = parseFloat((giaDeXuat * 1.03).toFixed(1));

     // Tính ngày bán dự kiến
     let ngayBan = 28;
     if (tinhThanh.includes('Hồ Chí Minh')) ngayBan = Math.floor(Math.random() * 8) + 18;
     else if (tinhThanh.includes('Hà Nội')) ngayBan = Math.floor(Math.random() * 10) + 20;
     else ngayBan = Math.floor(Math.random() * 12) + 22;
     ngayBan = Math.min(ngayBan, 30);

     const phanTram = Math.floor((ngayBan / 30) * 100);
     const chenhLech = parseFloat(((giaDeXuat / giaMongMuon - 1) * 100).toFixed(1));

     // Cập nhật PropertySaleDTO
     Object.assign(PropertySaleDTO, {
       fullName: searchForm.hoTen.trim(),
       phone: phoneNumber,
       email: searchForm.email.trim(),
       province: searchForm.tinhThanh.trim(),
       ward: searchForm.quanHuyen.trim(),
       addressDetail: searchForm.diaChiChiTiet?.trim() || '',
-      soTo: parseInt(searchForm.soTo) || 0,
-      soThua: parseInt(searchForm.soThua) || 0,
+      soTo: searchForm.soTo?.trim() || '',
+      soThua: searchForm.soThua?.trim() || '',
       dienTichDat: parseFloat(searchForm.dienTichDat) || 0,
       dienTichSan: parseFloat(searchForm.dienTichSan) || 0,
       ketCauCongTrinh: searchForm.ketCauCongTrinh?.trim() || '',
       landUseRight: searchForm.quyenSuDungDat || '',
+      ownershipRelation: searchForm.ownershipRelation?.trim() || '',
       expectedPrice: parseFloat(searchForm.giaMongMuon) || 0,

       // Kết quả dự đoán
       estimatedSaleTimeDays: ngayBan,
       suggestedPrice: giaDeXuat,
       priceChangePercent: chenhLech,
       areaAveragePrice: parseFloat((giaDeXuat * 0.96).toFixed(1)), // Giá trung bình khu vực
       acceptedPriceMin: minPrice,
       acceptedPriceMax: maxPrice,
       saleSuccessRate: phanTram
     });

     // console.log('PropertySaleDTO sau khi assign:', PropertySaleDTO);
     // console.log('=== PREPARE DTO END ===');
   };

   // Gọi hàm chuẩn bị dữ liệu
   preparePropertySaleDTO();

   // Kiểm tra nếu đã có kết quả trong localStorage
   const savedResult = getResultFromLocalStorage();
   if (savedResult) {
     // Hiển thị kết quả đã lưu
     Object.assign(searchResult, savedResult);
     searchResult.show = true;
@@ -2409,26 +2446,26 @@ onUnmounted(() => {
 }

 /* THÊM: Style cho loading indicator khi scroll */
 .flex.overflow-x-auto::after {
   content: '';
   min-width: 20px;
   flex-shrink: 0;
 }

 /* THÊM: Đảm bảo SoldProjectCard có z-index cao khi hover */
 .flex.overflow-x-auto > *:hover {
   z-index: 10; /* Đảm bảo card hover hiển thị trên các card khác */
   position: relative;
 }

 /* THÊM: Tăng khoảng cách giữa các card */
 .flex.overflow-x-auto {
   gap: 1.5rem; /* Thay vì gap-4 (16px) -> 24px */
 }

 /* Style cho icon ẩn giá */
 button.text-slate-400:hover {
   transform: scale(1.1);
   transition: transform 0.2s ease;
 }
-</style>
\ No newline at end of file
+</style>
